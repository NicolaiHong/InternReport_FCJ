<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.150.0">
    <meta
  name="description"
  content=""
/>
<meta name="author" content="thienlh@thienlu.com" />

    <link rel="icon" href="../../../images/favicon.png" type="image/png">

    <title>Lambda Functions Development :: Internship Report</title>

    
    <link href="../../../css/nucleus.css?1765039783" rel="stylesheet">
    <link href="../../../css/fontawesome-all.min.css?1765039783" rel="stylesheet">
    <link href="../../../css/hybrid.css?1765039783" rel="stylesheet">
    <link href="../../../css/featherlight.min.css?1765039783" rel="stylesheet">
    <link href="../../../css/perfect-scrollbar.min.css?1765039783" rel="stylesheet">
    <link href="../../../css/auto-complete.css?1765039783" rel="stylesheet">
    <link href="../../../css/atom-one-dark-reasonable.css?1765039783" rel="stylesheet">
    <link href="../../../css/theme.css?1765039783" rel="stylesheet">
    <link href="../../../css/hugo-theme.css?1765039783" rel="stylesheet">
    
    <link href="../../../css/theme-workshop.css?1765039783" rel="stylesheet">
    
    

    <script src="../../../js/jquery-3.3.1.min.js?1765039783"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    

  </head>
  <body class="" data-url="../../../5-workshop/5.2-serverless-backend/5.2.5-lambda/">
    <nav
  id="sidebar"
  class="showVisitedLinks"
>
   
  <div id="header-wrapper">
    <div id="header"><a id="logo" href="../../../">
  <svg
    id="Layer_1"
    data-name="Layer 1"
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 60 30"
    width="30%"
  >
    <defs>
      <style>
        .cls-1 {
          fill: #fff;
        }
        .cls-2 {
          fill: #f90;
          fill-rule: evenodd;
        }
      </style>
    </defs>
    <title>AWS-Logo_White-Color</title>
    <path
      class="cls-1"
      d="M14.09,10.85a4.7,4.7,0,0,0,.19,1.48,7.73,7.73,0,0,0,.54,1.19.77.77,0,0,1,.12.38.64.64,0,0,1-.32.49l-1,.7a.83.83,0,0,1-.44.15.69.69,0,0,1-.49-.23,3.8,3.8,0,0,1-.6-.77q-.25-.42-.51-1a6.14,6.14,0,0,1-4.89,2.3,4.54,4.54,0,0,1-3.32-1.19,4.27,4.27,0,0,1-1.22-3.2A4.28,4.28,0,0,1,3.61,7.75,6.06,6.06,0,0,1,7.69,6.46a12.47,12.47,0,0,1,1.76.13q.92.13,1.91.36V5.73a3.65,3.65,0,0,0-.79-2.66A3.81,3.81,0,0,0,7.86,2.3a7.71,7.71,0,0,0-1.79.22,12.78,12.78,0,0,0-1.79.57,4.55,4.55,0,0,1-.58.22l-.26,0q-.35,0-.35-.52V2a1.09,1.09,0,0,1,.12-.58,1.2,1.2,0,0,1,.47-.35A10.88,10.88,0,0,1,5.77.32,10.19,10.19,0,0,1,8.36,0a6,6,0,0,1,4.35,1.35,5.49,5.49,0,0,1,1.38,4.09ZM7.34,13.38a5.36,5.36,0,0,0,1.72-.31A3.63,3.63,0,0,0,10.63,12,2.62,2.62,0,0,0,11.19,11a5.63,5.63,0,0,0,.16-1.44v-.7a14.35,14.35,0,0,0-1.53-.28,12.37,12.37,0,0,0-1.56-.1,3.84,3.84,0,0,0-2.47.67A2.34,2.34,0,0,0,5,11a2.35,2.35,0,0,0,.61,1.76A2.4,2.4,0,0,0,7.34,13.38Zm13.35,1.8a1,1,0,0,1-.64-.16,1.3,1.3,0,0,1-.35-.65L15.81,1.51a3,3,0,0,1-.15-.67.36.36,0,0,1,.41-.41H17.7a1,1,0,0,1,.65.16,1.4,1.4,0,0,1,.33.65l2.79,11,2.59-11A1.17,1.17,0,0,1,24.39.6a1.1,1.1,0,0,1,.67-.16H26.4a1.1,1.1,0,0,1,.67.16,1.17,1.17,0,0,1,.32.65L30,12.39,32.88,1.25A1.39,1.39,0,0,1,33.22.6a1,1,0,0,1,.65-.16h1.54a.36.36,0,0,1,.41.41,1.36,1.36,0,0,1,0,.26,3.64,3.64,0,0,1-.12.41l-4,12.86a1.3,1.3,0,0,1-.35.65,1,1,0,0,1-.64.16H29.25a1,1,0,0,1-.67-.17,1.26,1.26,0,0,1-.32-.67L25.67,3.64,23.11,14.34a1.26,1.26,0,0,1-.32.67,1,1,0,0,1-.67.17Zm21.36.44a11.28,11.28,0,0,1-2.56-.29,7.44,7.44,0,0,1-1.92-.67,1,1,0,0,1-.61-.93v-.84q0-.52.38-.52a.9.9,0,0,1,.31.06l.42.17a8.77,8.77,0,0,0,1.83.58,9.78,9.78,0,0,0,2,.2,4.48,4.48,0,0,0,2.43-.55,1.76,1.76,0,0,0,.86-1.57,1.61,1.61,0,0,0-.45-1.16A4.29,4.29,0,0,0,43,9.22l-2.41-.76A5.15,5.15,0,0,1,38,6.78a3.94,3.94,0,0,1-.83-2.41,3.7,3.7,0,0,1,.45-1.85,4.47,4.47,0,0,1,1.19-1.37A5.27,5.27,0,0,1,40.51.29,7.4,7.4,0,0,1,42.6,0a8.87,8.87,0,0,1,1.12.07q.57.07,1.08.19t.95.26a4.27,4.27,0,0,1,.7.29,1.59,1.59,0,0,1,.49.41.94.94,0,0,1,.15.55v.79q0,.52-.38.52a1.76,1.76,0,0,1-.64-.2,7.74,7.74,0,0,0-3.2-.64,4.37,4.37,0,0,0-2.21.47,1.6,1.6,0,0,0-.79,1.48,1.58,1.58,0,0,0,.49,1.18,4.94,4.94,0,0,0,1.83.92L44.55,7a5.08,5.08,0,0,1,2.57,1.6A3.76,3.76,0,0,1,47.9,11a4.21,4.21,0,0,1-.44,1.93,4.4,4.4,0,0,1-1.21,1.47,5.43,5.43,0,0,1-1.85.93A8.25,8.25,0,0,1,42.05,15.62Z"
    ></path>
    <path
      class="cls-2"
      d="M45.19,23.81C39.72,27.85,31.78,30,25,30A36.64,36.64,0,0,1,.22,20.57c-.51-.46-.06-1.09.56-.74A49.78,49.78,0,0,0,25.53,26.4,49.23,49.23,0,0,0,44.4,22.53C45.32,22.14,46.1,23.14,45.19,23.81Z"
    ></path>
    <path
      class="cls-2"
      d="M47.47,21.21c-.7-.9-4.63-.42-6.39-.21-.53.06-.62-.4-.14-.74,3.13-2.2,8.27-1.57,8.86-.83s-.16,5.89-3.09,8.35c-.45.38-.88.18-.68-.32C46.69,25.8,48.17,22.11,47.47,21.21Z"
    ></path>
  </svg>
</a>
</div>
     <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="../../../js/lunr.min.js?1765039783"></script>
<script type="text/javascript" src="../../../js/auto-complete.js?1765039783"></script>
<script type="text/javascript">
    
        var baseurl = "https:\/\/nicolaihong.github.io\/InternReport_FCJ\/";
    
</script>
<script type="text/javascript" src="../../../js/search.js?1765039783"></script>
 
  </div>

  <div class="highlightable">
    <ul class="topics">
               
<li
  data-nav-id="/1-worklog/"
  title="Worklog"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../1-worklog/">
     <b> 1. </b> Worklog 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
  <ul>
          
            
<li
  data-nav-id="/1-worklog/1.1-week1/"
  title="Week 1 Worklog"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../1-worklog/1.1-week1/">
     <b> 1.1. </b> Week 1 Worklog 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/1-worklog/1.2-week2/"
  title="Week 2 Worklog"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../1-worklog/1.2-week2/">
     <b> 1.2. </b> Week 2 Worklog 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/1-worklog/1.12-week12/"
  title="Week 12 Worklog"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../1-worklog/1.12-week12/">
     <b> 1.12. </b> Week 12 Worklog 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/1-worklog/1.3-week3/"
  title="Week 3 Worklog"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../1-worklog/1.3-week3/">
     <b> 1.3. </b> Week 3 Worklog 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/1-worklog/1.4-week4/"
  title="Week 4 Worklog"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../1-worklog/1.4-week4/">
     <b> 1.4. </b> Week 4 Worklog 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/1-worklog/1.5-week5/"
  title="Week 5 Worklog"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../1-worklog/1.5-week5/">
     <b> 1.5. </b> Week 5 Worklog 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/1-worklog/1.6-week6/"
  title="Week 6 Worklog"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../1-worklog/1.6-week6/">
     <b> 1.6. </b> Week 6 Worklog 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/1-worklog/1.7-week7/"
  title="Week 7 Worklog"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../1-worklog/1.7-week7/">
     <b> 1.7. </b> Week 7 Worklog 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/1-worklog/1.8-week8/"
  title="Week 8 Worklog"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../1-worklog/1.8-week8/">
     <b> 1.8. </b> Week 8 Worklog 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/1-worklog/1.9-week9/"
  title="Week 9 Worklog"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../1-worklog/1.9-week9/">
     <b> 1.9. </b> Week 9 Worklog 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/1-worklog/1.10-week10/"
  title="Week 10 Worklog"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../1-worklog/1.10-week10/">
     <b> 1.10. </b> Week 10 Worklog 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/1-worklog/1.11-week11/"
  title="Week 11 Worklog"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../1-worklog/1.11-week11/">
     <b> 1.11. </b> Week 11 Worklog 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
     
  </ul>
  
</li>
           
<li
  data-nav-id="/2-proposal/"
  title="Proposal"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../2-proposal/">
     <b> 2. </b> Proposal 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
           
<li
  data-nav-id="/3-blogstranslated/"
  title="Translated Blogs"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../3-blogstranslated/">
     <b> 3. </b> Translated Blogs 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
  <ul>
          
            
<li
  data-nav-id="/3-blogstranslated/3.1-blog1/"
  title="Blog 1"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../3-blogstranslated/3.1-blog1/">
     <b> 3.1. </b> Blog 1 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/3-blogstranslated/3.2-blog2/"
  title="Blog 2"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../3-blogstranslated/3.2-blog2/">
     <b> 3.2. </b> Blog 2 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/3-blogstranslated/3.3-blog3/"
  title="Blog 3"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../3-blogstranslated/3.3-blog3/">
     <b> 3.3. </b> Blog 3 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/3-blogstranslated/3.4-blog4/"
  title="Blog 4"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../3-blogstranslated/3.4-blog4/">
     <b> 3.4. </b> Blog 4 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/3-blogstranslated/3.5-blog5/"
  title="Blog 5"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../3-blogstranslated/3.5-blog5/">
     <b> 3.5. </b> Blog 5 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/3-blogstranslated/3.6-blog6/"
  title="Blog 6"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../3-blogstranslated/3.6-blog6/">
     <b> 3.6. </b> Blog 6 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
     
  </ul>
  
</li>
           
<li
  data-nav-id="/4-eventparticipated/"
  title="Events Participated In"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../4-eventparticipated/">
     <b> 4. </b> Events Participated In 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
  <ul>
          
            
<li
  data-nav-id="/4-eventparticipated/4.1-event1/"
  title="Kick-off AWS FCJ Workforce - FPTU OJT FALL 2025"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../4-eventparticipated/4.1-event1/">
     <b> 4.1. </b> Kick-off AWS FCJ Workforce - FPTU OJT FALL 2025 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/4-eventparticipated/4.2-event2/"
  title="Data Science On AWS"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../4-eventparticipated/4.2-event2/">
     <b> 4.2. </b> Data Science On AWS 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/4-eventparticipated/4.3-event3/"
  title="Reinventing DevOps with AWS Generative AI"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../4-eventparticipated/4.3-event3/">
     <b> 4.3. </b> Reinventing DevOps with AWS Generative AI 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/4-eventparticipated/4.4-event4/"
  title="Generative AI with Amazon Bedrock"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../4-eventparticipated/4.4-event4/">
     <b> 4.4. </b> Generative AI with Amazon Bedrock 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/4-eventparticipated/4.5-event5/"
  title="DevOps on AWS"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../4-eventparticipated/4.5-event5/">
     <b> 4.5. </b> DevOps on AWS 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
     
  </ul>
  
</li>
           
<li
  data-nav-id="/5-workshop/"
  title="Workshop"
  class="dd-item 
        parent
        
        
        "
>
  <a href="../../../5-workshop/">
     <b> 5. </b> Workshop 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
  <ul>
          
            
<li
  data-nav-id="/5-workshop/5.1-frontend-deployment/"
  title="Part 1: Frontend Deployment with CloudFront, WAF, and S3"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../5-workshop/5.1-frontend-deployment/">
     <b> 5.1. </b> Part 1: Frontend Deployment with CloudFront, WAF, and S3 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
  <ul>
          
            
<li
  data-nav-id="/5-workshop/5.1-frontend-deployment/5.1.1-prerequisite/"
  title="Prerequisites"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../5-workshop/5.1-frontend-deployment/5.1.1-prerequisite/">
     <b> 5.1.1 </b> Prerequisites 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/5-workshop/5.1-frontend-deployment/5.1.2-s3-hosting/"
  title="S3 Static Website Hosting"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../5-workshop/5.1-frontend-deployment/5.1.2-s3-hosting/">
     <b> 5.1.2 </b> S3 Static Website Hosting 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/5-workshop/5.1-frontend-deployment/5.1.3-cloudfront-setup/"
  title="CloudFront Distribution Setup"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../5-workshop/5.1-frontend-deployment/5.1.3-cloudfront-setup/">
     <b> 5.1.3 </b> CloudFront Distribution Setup 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/5-workshop/5.1-frontend-deployment/5.1.4-waf/"
  title="AWS WAF Configuration"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../5-workshop/5.1-frontend-deployment/5.1.4-waf/">
     <b> 5.1.4 </b> AWS WAF Configuration 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/5-workshop/5.1-frontend-deployment/5.1.5-clean-up/"
  title="Part 4: Clean up"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../5-workshop/5.1-frontend-deployment/5.1.5-clean-up/">
     <b> 5.1.5 </b> Part 4: Clean up 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
     
  </ul>
  
</li>
    
            
<li
  data-nav-id="/5-workshop/5.2-serverless-backend/"
  title="Part 2: Backend Deployment with API Gateway, Lambda, RDS, and Cognito"
  class="dd-item 
        parent
        
        
        "
>
  <a href="../../../5-workshop/5.2-serverless-backend/">
     <b> 5.2 </b> Part 2: Backend Deployment with API Gateway, Lambda, RDS, and Cognito 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
  <ul>
          
            
<li
  data-nav-id="/5-workshop/5.2-serverless-backend/5.2.1-prerequisite/"
  title="Prerequisites"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../5-workshop/5.2-serverless-backend/5.2.1-prerequisite/">
     <b> 5.2.1 </b> Prerequisites 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/5-workshop/5.2-serverless-backend/5.2.2-vpc/"
  title="VPC and Network Setup"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../5-workshop/5.2-serverless-backend/5.2.2-vpc/">
     <b> 5.2.2 </b> VPC and Network Setup 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/5-workshop/5.2-serverless-backend/5.2.3-rds/"
  title="RDS Database Setup"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../5-workshop/5.2-serverless-backend/5.2.3-rds/">
     <b> 5.2.3 </b> RDS Database Setup 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/5-workshop/5.2-serverless-backend/5.2.4-secrets-manager/"
  title="AWS Secrets Manager Configuration"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../5-workshop/5.2-serverless-backend/5.2.4-secrets-manager/">
     <b> 5.2.4 </b> AWS Secrets Manager Configuration 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/5-workshop/5.2-serverless-backend/5.2.5-lambda/"
  title="Lambda Functions Development"
  class="dd-item 
        
        active
        
        "
>
  <a href="../../../5-workshop/5.2-serverless-backend/5.2.5-lambda/">
     <b> 5.2.5 </b> Lambda Functions Development 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/5-workshop/5.2-serverless-backend/5.2.6-api-gateway/"
  title="API Gateway Setup"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../5-workshop/5.2-serverless-backend/5.2.6-api-gateway/">
     <b> 5.2.6 </b> API Gateway Setup 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/5-workshop/5.2-serverless-backend/5.2.7-cognito/"
  title="Amazon Cognito Configuration"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../5-workshop/5.2-serverless-backend/5.2.7-cognito/">
     <b> 5.2.7 </b> Amazon Cognito Configuration 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/5-workshop/5.2-serverless-backend/5.2.8-frontend-integration/"
  title="Frontend Integration"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../5-workshop/5.2-serverless-backend/5.2.8-frontend-integration/">
     <b> 5.2.8 </b> Frontend Integration 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/5-workshop/5.2-serverless-backend/5.2.9-clean-up/"
  title="Clean up"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../5-workshop/5.2-serverless-backend/5.2.9-clean-up/">
     <b> 5.2.9 </b> Clean up 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
     
  </ul>
  
</li>
     
  </ul>
  
</li>
           
<li
  data-nav-id="/6-self-evaluation/"
  title="Self-Assessment"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../6-self-evaluation/">
     <b> 6. </b> Self-Assessment 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
           
<li
  data-nav-id="/7-feedback/"
  title="Sharing and Feedback"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../7-feedback/">
     <b> 7. </b> Sharing and Feedback 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
    </ul>

     
    <section id="shortcuts">
      <h3>
        More
      </h3>
      <ul>
        
        <li>
          <a class="padding" href="https://www.facebook.com/groups/awsstudygroupfcj/"
            ><i class='fab fa-facebook'></i> AWS Study Group</a
          >
        </li>
        
      </ul>
    </section>
     
    <section id="prefooter">
      <hr />
      <ul>
        
        <li>
          <a class="padding">
            <i class="fas fa-language fa-fw"></i>
            <div class="select-style">
              <select id="select-language" onchange="location = this.value;">
                       
                <option
                  id="en"
                  value="https://nicolaihong.github.io/InternReport_FCJ/5-workshop/5.2-serverless-backend/5.2.5-lambda/"
                  selected
                >
                  English
                </option>
                            
                <option
                  id="vi"
                  value="https://nicolaihong.github.io/InternReport_FCJ/vi/5-workshop/5.2-serverless-backend/5.2.5-lambda/"
                >
                  Tiếng Việt
                </option>
                   
              </select>
              <svg
                version="1.1"
                id="Capa_1"
                xmlns="http://www.w3.org/2000/svg"
                xmlns:xlink="http://www.w3.org/1999/xlink"
                x="0px"
                y="0px"
                width="255px"
                height="255px"
                viewBox="0 0 255 255"
                style="enable-background: new 0 0 255 255"
                xml:space="preserve"
              >
                <g>
                  <g id="arrow-drop-down">
                    <polygon points="0,63.75 127.5,191.25 255,63.75 		" />
                  </g>
                </g>
              </svg>
            </div>
          </a>
        </li>
         
        <li>
          <a class="padding" href="#" data-clear-history-toggle=""
            ><i class="fas fa-history fa-fw"></i> Clear History</a
          >
        </li>
        
      </ul>
    </section>
    
    <section id="footer"><left>
    
    <b> Workshop</b> <br>
    <img src="https://hitwebcounter.com/counter/counter.php?page=7920860&style=0038&nbdigits=9&type=page&initCount=0"
        title="Migrate" Alt="web counter" border="0" /></a> <br>
    <b> <a href="https://cloudjourney.awsstudygroup.com/">Cloud Journey</a></b> <br>
    <img src="https://hitwebcounter.com/counter/counter.php?page=7830807&style=0038&nbdigits=9&type=page&initCount=0"
        title="Total CLoud Journey" Alt="web counter" border="0" />

</left>
<left>
    <br>
    <br>
    <b>Last Updated</b><br>
    <i>
        <span id="lastUpdated" style="color:orange;"></span>
    </i>

    <script>
        
        const today = new Date();
        
        const formattedDate = today.toLocaleDateString('en-GB');
        
        document.getElementById('lastUpdated').textContent = formattedDate;
    </script>
</left>
<left>
    <br>
    <br>
    <b> Team </b> <br>

    <i> <a href="https://www.facebook.com/groups/660548818043427" style="color:orange">First Cloud Journey </a> <br>

    </i>
</left>

<script async defer src="https://buttons.github.io/buttons.js"></script></section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            
            
          
          
            <a href='../../../'>Internship Report</a> > <a href='../../../5-workshop/'>Workshop</a> > <a href='../../../5-workshop/5.2-serverless-backend/'>Part 2: Backend Deployment with API Gateway, Lambda, RDS, and Cognito</a> > Lambda Functions Development
          
        
          
        
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
  <div class="wrapper"><nav id="TableOfContents">
  <ul>
    <li><a href="#overview">Overview</a></li>
    <li><a href="#lambda-function-architecture">Lambda Function Architecture</a>
      <ul>
        <li><a href="#what-well-build">What We&rsquo;ll Build</a></li>
      </ul>
    </li>
    <li><a href="#costs-considerations">Costs Considerations</a>
      <ul>
        <li><a href="#free-tier">Free-tier:</a></li>
        <li><a href="#paid-tier">Paid-tier</a></li>
      </ul>
    </li>
    <li><a href="#step-1-prepare-lambda-development-environment-optional">Step 1: Prepare Lambda Development Environment (optional)</a>
      <ul>
        <li><a href="#11-view-project-directory">1.1 View Project Directory</a></li>
      </ul>
    </li>
    <li><a href="#step-2-build-lambda-deployment-package">Step 2: Build Lambda Deployment Package</a>
      <ul>
        <li><a href="#21-install-dependencies">2.1 Install dependencies</a></li>
        <li><a href="#21-build-typescript-code">2.1 Build TypeScript Code</a></li>
      </ul>
    </li>
    <li><a href="#step-3-deploy-lambda-functions">Step 3: Deploy Lambda Functions</a>
      <ul>
        <li><a href="#31-navigate-to-lambda-console">3.1 Navigate to Lambda console</a></li>
        <li><a href="#32-create-lambda-function">3.2 Create Lambda function</a></li>
        <li><a href="#33-upload-deployment-package">3.3 Upload Deployment Package</a></li>
        <li><a href="#34-configure-environment-variables">3.4 Configure environment variables</a></li>
        <li><a href="#35-test-lambda-function">3.5 Test Lambda function</a></li>
      </ul>
    </li>
    <li><a href="#step-4-monitor-lambda-with-cloudwatch-logs">Step 4: Monitor Lambda with CloudWatch Logs</a>
      <ul>
        <li><a href="#41-view-cloudwatch-logs">4.1 View CloudWatch Logs</a></li>
        <li><a href="#42-analyze-log-entries">4.2 Analyze Log Entries</a></li>
        <li><a href="#43-understanding-log-output">4.3 Understanding Log Output</a></li>
        <li><a href="#44-filter-logs-by-pattern">4.4 Filter Logs by Pattern</a></li>
      </ul>
    </li>
    <li><a href="#summary">Summary</a>
      <ul>
        <li><a href="#what-youve-built">What You&rsquo;ve Built</a></li>
        <li><a href="#architecture-so-far">Architecture So Far</a></li>
      </ul>
    </li>
    <li><a href="#next-steps">Next Steps</a></li>
  </ul>
</nav></div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              Lambda Functions Development
            </h1>
          

        



	<h2 id="overview">Overview</h2>
<p>In this section, you&rsquo;ll create AWS Lambda functions that serve as the business logic layer of your serverless backend. These functions will handle API requests, retrieve database credentials from Secrets Manager, interact with your RDS database, and return responses to API Gateway.</p>
<p><strong>What you&rsquo;ll accomplish:</strong></p>
<ul>
<li>Understand Lambda function architecture and execution</li>
<li>Develop Lambda functions for CRUD operations</li>
<li>Connect Lambda to RDS PostgreSQL database</li>
<li>Retrieve credentials securely from Secrets Manager</li>
<li>Configure VPC settings for database access</li>
<li>Package and deploy Lambda functions with dependencies</li>
<li>Test Lambda functions directly</li>
<li>Set up CloudWatch Logs for debugging</li>
<li>Initialize database schema via Lambda</li>
</ul>
<p><strong>Estimated time</strong>: 60-75 minutes</p>
<h2 id="lambda-function-architecture">Lambda Function Architecture</h2>
<h3 id="what-well-build">What We&rsquo;ll Build</h3>
<pre tabindex="0"><code>API Gateway
    ↓
Lambda Functions (in VPC)
    ├── initDB - Initialize database schema
    ├── createUser - Create new user
    ├── getUsers - List all users
    ├── createTask - Create new task
    ├── getTasks - Get user&#39;s tasks
    ├── updateTask - Update task
    └── deleteTask - Delete task
    ↓
VPC Endpoint (Secrets Manager)
    ↓
Secrets Manager (get DB credentials)
    ↓
RDS PostgreSQL (execute queries)
</code></pre><h2 id="costs-considerations">Costs Considerations</h2>
<h3 id="free-tier">Free-tier:</h3>
<ul>
<li><strong>1 million free requests per month</strong></li>
<li><strong>400,000 GB-seconds of compute time per month</strong>
<ul>
<li>Applies to both <strong>x86</strong> and <strong>Graviton2</strong> Lambda functions</li>
</ul>
</li>
<li><strong>100 GiB of HTTP response streaming per month</strong>
<ul>
<li>The first <strong>6 MB per request is always free</strong></li>
</ul>
</li>
</ul>
<h3 id="paid-tier">Paid-tier</h3>
<ol>
<li>Even paid tier cost is minimal for our workshop</li>
<li>Overall: &lt;$1 (clean up immediately after finish workshop)</li>
</ol>
<h2 id="step-1-prepare-lambda-development-environment-optional">Step 1: Prepare Lambda Development Environment (optional)</h2>
<p>In this step, you&rsquo;ll set up a local development environment for building and packaging your Lambda function.
However, this step is optional. If you prefer not to set up the environment manually, you can skip this step and download source code below.
You can download source code for this part here:</p>
<ul>
<li>Github repository: <a href="https://github.com/Icyretsz/fcj-workshop-serverless-backend-ver1">https://github.com/Icyretsz/fcj-workshop-serverless-backend-ver1</a></li>
<li>Only the zip file for lambda: <a href="https://fcj-workshop-files.s3.ap-southeast-1.amazonaws.com/userHandler.zip">https://fcj-workshop-files.s3.ap-southeast-1.amazonaws.com/userHandler.zip</a></li>
</ul>
<h3 id="11-view-project-directory">1.1 View Project Directory</h3>
<p>The source code is provided in the above git repository</p>
<p>The project structure:</p>
<pre tabindex="0"><code>fcj-workshop-serverless-backend-ver1
└── backend/
    └── src/
        └── userHandler.ts
        └── types.ts
    ├── package.json
    ├── tsconfig.json
</code></pre>
<div
  class="notices note"
  
>
  <p>You can choose to organize your Lambda functions in different ways. In production, it is recommended to create separate Lambda functions for each user operation (CREATE, READ, UPDATE, DELETE) to improve maintainability, scalability, and security.<br>
However, for the sake of simplicity in this workshop, we will place all user-related operations into a single Lambda function (userHandler.js).</p>

</div>

<h4 id="the-userhandlerts">The userHandler.ts</h4>
<p><strong>Key features of this handler:</strong></p>
<ul>
<li>DB Initialization: creates users table and insert mock data automatically if it doesn’t exist.</li>
<li>TypeScript types: uses your User interface and ApiResponse<T>.</li>
<li>Secrets Manager: retrieves database credentials at runtime.</li>
<li>No connection pool: safe for workshops, simple enough.</li>
<li>This Lambda function handles CRUD operations for users in a PostgreSQL database. It&rsquo;s designed to work with <strong>API Gateway Lambda Proxy Integration</strong>, which provides a specific event structure and expects a specific response format.</li>
</ul>
<p><strong>Supported operations:</strong></p>
<ul>
<li><code>GET /users</code> - Get all users</li>
<li><code>GET /users/{id}</code> - Get single user</li>
<li><code>POST /users</code> - Create new user</li>
<li><code>PUT /users/{id}</code> - Update user</li>
<li><code>DELETE /users/{id}</code> - Delete user</li>
</ul>
<p>You can modify it as you like. When you are ready, move on to next steps to build and deploy our
source code to Lambda</p>
<h2 id="step-2-build-lambda-deployment-package">Step 2: Build Lambda Deployment Package</h2>
<h3 id="21-install-dependencies">2.1 Install dependencies</h3>
<p>From root folder, run</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>npm install
</span></span></code></pre></div><h3 id="21-build-typescript-code">2.1 Build TypeScript Code</h3>
<p>Build</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>npm run build
</span></span></code></pre></div><p>This creates <code>dist</code> folder in root directory</p>
<p>Now find <code>node_modules</code> folder then copy it to
<code>dist</code> folder</p>
<p>When complete, select all files in <code>dist</code> folder, compress them to <strong>zip</strong> and name it userHandler</p>
<p><img src="../../../images/5-Workshop/5.2-Serverless/5.2.5-Lambda/14.png" alt="project structure"></p>
<p>Confirm contents of userHandler.zip</p>
<p><img src="../../../images/5-Workshop/5.2-Serverless/5.2.5-Lambda/15.png" alt="zip content"></p>
<h2 id="step-3-deploy-lambda-functions">Step 3: Deploy Lambda Functions</h2>
<p>Now we&rsquo;ll create Lambda functions in AWS</p>
<h3 id="31-navigate-to-lambda-console">3.1 Navigate to Lambda console</h3>
<ol>
<li>Navigate to Lambda console</li>
<li>Click <strong>Create function</strong></li>
</ol>
<p><img src="../../../images/5-Workshop/5.2-Serverless/5.2.5-Lambda/1.png" alt="Create Lambda"></p>
<h3 id="32-create-lambda-function">3.2 Create Lambda function</h3>
<ol>
<li><strong>Function options:</strong></li>
</ol>
<ul>
<li>Select <strong>Author from scratch</strong></li>
</ul>
<ol start="2">
<li><strong>Basic information:</strong></li>
</ol>
<ul>
<li><strong>Function name:</strong> <code>workshop-lambda-sm-rds</code></li>
<li><strong>Runtime:</strong> Nodejs 24.x</li>
<li><strong>Architecture:</strong> x86_64</li>
<li>Expand <strong>Change default execution role</strong></li>
<li>Select <strong>Use an existing role</strong></li>
<li>Select <code>workshop-lamda-secretsmng-role</code></li>
</ul>
<p><img src="../../../images/5-Workshop/5.2-Serverless/5.2.5-Lambda/2.png" alt="Create Lambda - Basic information"></p>
<ol start="3">
<li><strong>Advanced settings:</strong></li>
</ol>
<ul>
<li>Expand <strong>Advanced settings</strong></li>
<li>Check <strong>Enable VPC</strong></li>
</ul>
<p><strong>VPC:</strong></p>
<ul>
<li>Select <code>workshop-backend-vpc</code></li>
</ul>
<p><strong>Subnets:</strong></p>
<ul>
<li>Select <code>workshop-private-subnet-1</code> (10.0.1.0/24)</li>
</ul>
<p><strong>Security groups:</strong></p>
<ul>
<li>Select <code>workshop-lambda-sg</code></li>
</ul>
<p><img src="../../../images/5-Workshop/5.2-Serverless/5.2.5-Lambda/3.png" alt="Lambda VPC Config"></p>
<ol start="3">
<li>Click <strong>Create function</strong></li>
<li>Wait a few minutes for the system to create the Lambda function</li>
<li>Create successful</li>
</ol>
<p><img src="../../../images/5-Workshop/5.2-Serverless/5.2.5-Lambda/4.png" alt="Lambda create success"></p>
<h3 id="33-upload-deployment-package">3.3 Upload Deployment Package</h3>
<ol>
<li>In the function page, in <strong>Code</strong> tab</li>
<li>Click <strong>Upload from</strong> dropdown</li>
<li>Select <strong>.zip file</strong></li>
</ol>
<p><img src="../../../images/5-Workshop/5.2-Serverless/5.2.5-Lambda/9.png" alt="Lambda Upload Zip"></p>
<ol start="4">
<li>Click <strong>Upload</strong></li>
<li>Select <code>/fcj-serverless-workshop/backend/userHandler.zip</code></li>
<li>Click <strong>Save</strong></li>
</ol>
<p><img src="../../../images/5-Workshop/5.2-Serverless/5.2.5-Lambda/10.png" alt="Lambda Code Upload"></p>
<ol start="7">
<li>Lambda will start importing our source code (userHandler.zip)</li>
<li>The result: you will see the source code files in the left sidebar</li>
</ol>
<p><img src="../../../images/5-Workshop/5.2-Serverless/5.2.5-Lambda/16.png" alt="Lambda Code Uploaded"></p>
<h3 id="34-configure-environment-variables">3.4 Configure environment variables</h3>
<ol>
<li>Go to the <strong>Configuration</strong> tab</li>
<li>On the left sidebar, click <strong>Environment variables</strong></li>
<li>Click <strong>Edit</strong></li>
</ol>
<p><img src="../../../images/5-Workshop/5.2-Serverless/5.2.5-Lambda/5.png" alt="Lambda env"></p>
<ol start="4">
<li>On the next screen, click <strong>Add environment variable</strong></li>
<li>Add the following variables:
<ul>
<li>RDS-HOST: your RDS endpoint</li>
<li>DB_NAME: your RDS database name</li>
<li>SECRET_NAME: the secret name of the RDS-managed secret (refer to 5.2.4)</li>
<li>REGION: your current AWS region</li>
</ul>
</li>
</ol>
<p><img src="../../../images/5-Workshop/5.2-Serverless/5.2.5-Lambda/12.png" alt="env"></p>
<ol start="6">
<li>Go back to <strong>Code</strong> tab, click <strong>Deploy</strong></li>
</ol>
<p><img src="../../../images/5-Workshop/5.2-Serverless/5.2.5-Lambda/13.png" alt="deploy"></p>
<h3 id="35-test-lambda-function">3.5 Test Lambda function</h3>
<p>Now let&rsquo;s test the Lambda function. We will test the get all users route</p>
<ol>
<li>In the <strong>Code</strong> tab of your Lambda function, click the <strong>Test</strong> button or <strong>Create new test event</strong> on the left sidebar</li>
<li>A drawer on the right will appear</li>
<li>Configure the test event:
<ul>
<li>Event name: <code>test-get-users</code></li>
<li>Event JSON:</li>
</ul>
</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-JSON" data-lang="JSON"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;httpMethod&#34;</span>: <span style="color:#e6db74">&#34;GET&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;pathParameters&#34;</span>: <span style="color:#66d9ef">null</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;body&#34;</span>: <span style="color:#66d9ef">null</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ol start="4">
<li>Click <strong>Save</strong></li>
</ol>
<p><img src="../../../images/5-Workshop/5.2-Serverless/5.2.5-Lambda/17.png" alt="create test event"></p>
<ol start="5">
<li>You will see your new test event in the left sidebar, hover on it and then click the play button to start the test</li>
</ol>
<p><img src="../../../images/5-Workshop/5.2-Serverless/5.2.5-Lambda/18.png" alt="event"></p>
<ol start="6">
<li>If everything goes well, you will see the response with status 200 and a body contains our users</li>
</ol>
<p><img src="../../../images/5-Workshop/5.2-Serverless/5.2.5-Lambda/19.png" alt="response"></p>
<h2 id="step-4-monitor-lambda-with-cloudwatch-logs">Step 4: Monitor Lambda with CloudWatch Logs</h2>
<h3 id="41-view-cloudwatch-logs">4.1 View CloudWatch Logs</h3>
<ol>
<li>In Lambda console, click <strong>Monitor</strong> tab</li>
<li>Click <strong>View CloudWatch logs</strong></li>
</ol>
<p><img src="../../../images/5-Workshop/5.2-Serverless/5.2.5-Lambda/20.png" alt="Lambda Monitor Tab"></p>
<ol start="3">
<li>Click on the latest <strong>Log stream</strong></li>
</ol>
<p><img src="../../../images/5-Workshop/5.2-Serverless/5.2.5-Lambda/21.png" alt="CloudWatch Log Streams"></p>
<h3 id="42-analyze-log-entries">4.2 Analyze Log Entries</h3>
<p>You should see detailed logs for each invocation:</p>
<pre tabindex="0"><code>2024-11-29T10:00:00.000Z INFO [users-handler] process start.
2024-11-29T10:00:00.100Z INFO Failed to get secret: Error: Could not retrieve secret
2024-11-29T10:00:00.150Z INFO Connected to RDS PostgreSQL successfully.
2024-11-29T10:00:00.200Z INFO Inserting demo users...
2024-11-29T10:00:00.250Z INFO Demo users inserted.
2024-11-29T10:00:00.300Z INFO [users-handler] process end.
</code></pre><p><strong>Key things to observe:</strong></p>
<ul>
<li>Successful database connection</li>
<li>Table initialization</li>
<li>Demo data insertion (first run only)</li>
<li>Request method and path</li>
<li>Query execution and results</li>
</ul>
<h3 id="43-understanding-log-output">4.3 Understanding Log Output</h3>
<p><strong>Successful Create User:</strong></p>
<pre tabindex="0"><code>START RequestId: abc-123-def
[INFO] [users-handler] process start.
[INFO] Connected to RDS PostgreSQL successfully.
[INFO] Demo users inserted.
END RequestId: abc-123-def
REPORT RequestId: abc-123-def Duration: 1250.34 ms Billed Duration: 1251 ms Memory Size: 512 MB Max Memory Used: 128 MB Init Duration: 2345.67 ms
</code></pre><p><strong>What each metric means:</strong></p>
<ul>
<li><strong>Duration:</strong> Actual execution time (1250.34 ms)</li>
<li><strong>Billed Duration:</strong> Rounded up time you&rsquo;re charged for (1251 ms)</li>
<li><strong>Memory Size:</strong> Allocated memory (512 MB)</li>
<li><strong>Max Memory Used:</strong> Peak memory usage (128 MB)</li>
<li><strong>Init Duration:</strong> Cold start initialization time (2345.67 ms, first invocation only)</li>
</ul>
<p><strong>Error Example:</strong></p>
<pre tabindex="0"><code>START RequestId: xyz-789-abc
[INFO] [users-handler] process start.
[ERROR] Failed to get secret: ResourceNotFoundException: Secret not found
[ERROR] RDS connection failed: Error: Connection timeout
[INFO] [users-handler] process end.
END RequestId: xyz-789-abc
REPORT RequestId: xyz-789-abc Duration: 5000.12 ms Billed Duration: 5001 ms Memory Size: 512 MB Max Memory Used: 95 MB
</code></pre><h3 id="44-filter-logs-by-pattern">4.4 Filter Logs by Pattern</h3>
<p>CloudWatch Logs Insights allows you to query logs with SQL-like syntax.</p>
<ol>
<li>In CloudWatch Logs, click <strong>Logs Insights</strong> in left navigation</li>
<li>Select your log group: <code>/aws/lambda/workshop-lambda-sm-rds</code></li>
<li>Enter a query</li>
<li>Click <strong>Run query</strong></li>
</ol>
<p><strong>Example queries:</strong></p>
<p><strong>Find all errors:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span>fields <span style="color:#f92672">@</span><span style="color:#66d9ef">timestamp</span>, <span style="color:#f92672">@</span>message
</span></span><span style="display:flex;"><span><span style="color:#f92672">|</span> filter <span style="color:#f92672">@</span>message <span style="color:#66d9ef">like</span> <span style="color:#f92672">/</span>ERROR<span style="color:#f92672">/</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">|</span> sort <span style="color:#f92672">@</span><span style="color:#66d9ef">timestamp</span> <span style="color:#66d9ef">desc</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">|</span> <span style="color:#66d9ef">limit</span> <span style="color:#ae81ff">20</span>
</span></span></code></pre></div><p><strong>Find slow requests (&gt; 2 seconds):</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span>fields <span style="color:#f92672">@</span><span style="color:#66d9ef">timestamp</span>, <span style="color:#f92672">@</span>duration
</span></span><span style="display:flex;"><span><span style="color:#f92672">|</span> filter <span style="color:#f92672">@</span><span style="color:#66d9ef">type</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;REPORT&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">|</span> filter <span style="color:#f92672">@</span>duration <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">2000</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">|</span> sort <span style="color:#f92672">@</span>duration <span style="color:#66d9ef">desc</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">|</span> <span style="color:#66d9ef">limit</span> <span style="color:#ae81ff">20</span>
</span></span></code></pre></div><p><strong>Count requests by HTTP method:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span>fields <span style="color:#f92672">@</span><span style="color:#66d9ef">timestamp</span>, <span style="color:#f92672">@</span>message
</span></span><span style="display:flex;"><span><span style="color:#f92672">|</span> filter <span style="color:#f92672">@</span>message <span style="color:#66d9ef">like</span> <span style="color:#f92672">/</span>httpMethod<span style="color:#f92672">/</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">|</span> parse <span style="color:#f92672">@</span>message <span style="color:#e6db74">&#39;&#34;httpMethod&#34;:&#34;*&#34;&#39;</span> <span style="color:#66d9ef">as</span> <span style="color:#66d9ef">method</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">|</span> stats <span style="color:#66d9ef">count</span>() <span style="color:#66d9ef">by</span> <span style="color:#66d9ef">method</span>
</span></span></code></pre></div><p><strong>Find database connection errors:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span>fields <span style="color:#f92672">@</span><span style="color:#66d9ef">timestamp</span>, <span style="color:#f92672">@</span>message
</span></span><span style="display:flex;"><span><span style="color:#f92672">|</span> filter <span style="color:#f92672">@</span>message <span style="color:#66d9ef">like</span> <span style="color:#f92672">/</span>RDS <span style="color:#66d9ef">connection</span> failed<span style="color:#f92672">/</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">|</span> sort <span style="color:#f92672">@</span><span style="color:#66d9ef">timestamp</span> <span style="color:#66d9ef">desc</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">|</span> <span style="color:#66d9ef">limit</span> <span style="color:#ae81ff">20</span>
</span></span></code></pre></div><p><strong>Get average execution time:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span>fields <span style="color:#f92672">@</span><span style="color:#66d9ef">timestamp</span>, <span style="color:#f92672">@</span>duration
</span></span><span style="display:flex;"><span><span style="color:#f92672">|</span> filter <span style="color:#f92672">@</span><span style="color:#66d9ef">type</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;REPORT&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">|</span> stats <span style="color:#66d9ef">avg</span>(<span style="color:#f92672">@</span>duration) <span style="color:#66d9ef">as</span> avg_duration, <span style="color:#66d9ef">max</span>(<span style="color:#f92672">@</span>duration) <span style="color:#66d9ef">as</span> max_duration, <span style="color:#66d9ef">min</span>(<span style="color:#f92672">@</span>duration) <span style="color:#66d9ef">as</span> min_duration
</span></span></code></pre></div><h2 id="summary">Summary</h2>
<p>Congratulations! You&rsquo;ve successfully:</p>
<ul>
<li>Cloned and explored the TypeScript Lambda project</li>
<li>Built and packaged the Lambda deployment</li>
<li>Deployed Lambda function to AWS</li>
<li>Configured VPC, security groups, and environment variables</li>
<li>Tested CRUD operations</li>
<li>Set up CloudWatch monitoring and logging</li>
</ul>
<h3 id="what-youve-built">What You&rsquo;ve Built</h3>
<p>Your Lambda function now provides:</p>
<ul>
<li><strong>Complete CRUD API</strong> for user management</li>
<li><strong>Database connectivity</strong> with automatic initialization</li>
<li><strong>Secure credentials</strong> via Secrets Manager</li>
<li><strong>VPC isolation</strong> for security</li>
<li><strong>Comprehensive logging</strong> for debugging</li>
<li><strong>Performance monitoring</strong> via CloudWatch</li>
<li><strong>Type-safe code</strong> with TypeScript</li>
</ul>
<h3 id="architecture-so-far">Architecture So Far</h3>
<pre tabindex="0"><code>Client Request
    ↓
API Gateway (to be created in Part 5)
    ↓
Lambda Function (workshop-userHandler)
    ├→ VPC Endpoint → Secrets Manager → Get DB Credentials
    └→ VPC Private Subnet → RDS PostgreSQL → Execute Queries
    ↓
CloudWatch Logs (monitoring &amp; debugging)
</code></pre><h2 id="next-steps">Next Steps</h2>
<p>Proceed to <strong>Part 5: API Gateway Setup</strong> to create REST API endpoints that will trigger your Lambda function and expose it to the internet.</p>
<hr>
<p><strong>Ready to continue?</strong> Your Lambda function is now fully functional and ready to be exposed via API Gateway! 🚀</p>





<footer class=" footline" >
	
</footer>

        
        </div> 
        

      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
        
        


	 
	 
		
			<a class="nav nav-prev" href="../../../5-workshop/5.2-serverless-backend/5.2.4-secrets-manager/" title="AWS Secrets Manager Configuration"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="../../../5-workshop/5.2-serverless-backend/5.2.6-api-gateway/" title="API Gateway Setup" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="../../../js/clipboard.min.js?1765039783"></script>
    <script src="../../../js/perfect-scrollbar.min.js?1765039783"></script>
    <script src="../../../js/perfect-scrollbar.jquery.min.js?1765039783"></script>
    <script src="../../../js/jquery.sticky.js?1765039783"></script>
    <script src="../../../js/featherlight.min.js?1765039783"></script>
    <script src="../../../js/highlight.pack.js?1765039783"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="../../../js/modernizr.custom-3.6.0.js?1765039783"></script>
    <script src="../../../js/learn.js?1765039783"></script>
    <script src="../../../js/hugo-learn.js?1765039783"></script>

    <link href="../../../mermaid/mermaid.css?1765039783" rel="stylesheet" />
    <script src="../../../mermaid/mermaid.js?1765039783"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    <script>
  (function (i, s, o, g, r, a, m) {
    i["GoogleAnalyticsObject"] = r;
    ((i[r] =
      i[r] ||
      function () {
        (i[r].q = i[r].q || []).push(arguments);
      }),
      (i[r].l = 1 * new Date()));
    ((a = s.createElement(o)), (m = s.getElementsByTagName(o)[0]));
    a.async = 1;
    a.src = g;
    m.parentNode.insertBefore(a, m);
  })(
    window,
    document,
    "script",
    "https://www.google-analytics.com/analytics.js",
    "ga",
  );

  ga("create", "UA-158079754-2", "auto");
  ga("send", "pageview");
</script>

  </body>
</html>
