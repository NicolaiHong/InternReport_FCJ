<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.150.0">
    <meta
  name="description"
  content=""
/>
<meta name="author" content="thienlh@thienlu.com" />

    <link rel="icon" href="../../../images/favicon.png" type="image/png">

    <title>API Gateway Setup :: Internship Report</title>

    
    <link href="../../../css/nucleus.css?1765039783" rel="stylesheet">
    <link href="../../../css/fontawesome-all.min.css?1765039783" rel="stylesheet">
    <link href="../../../css/hybrid.css?1765039783" rel="stylesheet">
    <link href="../../../css/featherlight.min.css?1765039783" rel="stylesheet">
    <link href="../../../css/perfect-scrollbar.min.css?1765039783" rel="stylesheet">
    <link href="../../../css/auto-complete.css?1765039783" rel="stylesheet">
    <link href="../../../css/atom-one-dark-reasonable.css?1765039783" rel="stylesheet">
    <link href="../../../css/theme.css?1765039783" rel="stylesheet">
    <link href="../../../css/hugo-theme.css?1765039783" rel="stylesheet">
    
    <link href="../../../css/theme-workshop.css?1765039783" rel="stylesheet">
    
    

    <script src="../../../js/jquery-3.3.1.min.js?1765039783"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    

  </head>
  <body class="" data-url="../../../5-workshop/5.2-serverless-backend/5.2.6-api-gateway/">
    <nav
  id="sidebar"
  class="showVisitedLinks"
>
   
  <div id="header-wrapper">
    <div id="header"><a id="logo" href="../../../">
  <svg
    id="Layer_1"
    data-name="Layer 1"
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 60 30"
    width="30%"
  >
    <defs>
      <style>
        .cls-1 {
          fill: #fff;
        }
        .cls-2 {
          fill: #f90;
          fill-rule: evenodd;
        }
      </style>
    </defs>
    <title>AWS-Logo_White-Color</title>
    <path
      class="cls-1"
      d="M14.09,10.85a4.7,4.7,0,0,0,.19,1.48,7.73,7.73,0,0,0,.54,1.19.77.77,0,0,1,.12.38.64.64,0,0,1-.32.49l-1,.7a.83.83,0,0,1-.44.15.69.69,0,0,1-.49-.23,3.8,3.8,0,0,1-.6-.77q-.25-.42-.51-1a6.14,6.14,0,0,1-4.89,2.3,4.54,4.54,0,0,1-3.32-1.19,4.27,4.27,0,0,1-1.22-3.2A4.28,4.28,0,0,1,3.61,7.75,6.06,6.06,0,0,1,7.69,6.46a12.47,12.47,0,0,1,1.76.13q.92.13,1.91.36V5.73a3.65,3.65,0,0,0-.79-2.66A3.81,3.81,0,0,0,7.86,2.3a7.71,7.71,0,0,0-1.79.22,12.78,12.78,0,0,0-1.79.57,4.55,4.55,0,0,1-.58.22l-.26,0q-.35,0-.35-.52V2a1.09,1.09,0,0,1,.12-.58,1.2,1.2,0,0,1,.47-.35A10.88,10.88,0,0,1,5.77.32,10.19,10.19,0,0,1,8.36,0a6,6,0,0,1,4.35,1.35,5.49,5.49,0,0,1,1.38,4.09ZM7.34,13.38a5.36,5.36,0,0,0,1.72-.31A3.63,3.63,0,0,0,10.63,12,2.62,2.62,0,0,0,11.19,11a5.63,5.63,0,0,0,.16-1.44v-.7a14.35,14.35,0,0,0-1.53-.28,12.37,12.37,0,0,0-1.56-.1,3.84,3.84,0,0,0-2.47.67A2.34,2.34,0,0,0,5,11a2.35,2.35,0,0,0,.61,1.76A2.4,2.4,0,0,0,7.34,13.38Zm13.35,1.8a1,1,0,0,1-.64-.16,1.3,1.3,0,0,1-.35-.65L15.81,1.51a3,3,0,0,1-.15-.67.36.36,0,0,1,.41-.41H17.7a1,1,0,0,1,.65.16,1.4,1.4,0,0,1,.33.65l2.79,11,2.59-11A1.17,1.17,0,0,1,24.39.6a1.1,1.1,0,0,1,.67-.16H26.4a1.1,1.1,0,0,1,.67.16,1.17,1.17,0,0,1,.32.65L30,12.39,32.88,1.25A1.39,1.39,0,0,1,33.22.6a1,1,0,0,1,.65-.16h1.54a.36.36,0,0,1,.41.41,1.36,1.36,0,0,1,0,.26,3.64,3.64,0,0,1-.12.41l-4,12.86a1.3,1.3,0,0,1-.35.65,1,1,0,0,1-.64.16H29.25a1,1,0,0,1-.67-.17,1.26,1.26,0,0,1-.32-.67L25.67,3.64,23.11,14.34a1.26,1.26,0,0,1-.32.67,1,1,0,0,1-.67.17Zm21.36.44a11.28,11.28,0,0,1-2.56-.29,7.44,7.44,0,0,1-1.92-.67,1,1,0,0,1-.61-.93v-.84q0-.52.38-.52a.9.9,0,0,1,.31.06l.42.17a8.77,8.77,0,0,0,1.83.58,9.78,9.78,0,0,0,2,.2,4.48,4.48,0,0,0,2.43-.55,1.76,1.76,0,0,0,.86-1.57,1.61,1.61,0,0,0-.45-1.16A4.29,4.29,0,0,0,43,9.22l-2.41-.76A5.15,5.15,0,0,1,38,6.78a3.94,3.94,0,0,1-.83-2.41,3.7,3.7,0,0,1,.45-1.85,4.47,4.47,0,0,1,1.19-1.37A5.27,5.27,0,0,1,40.51.29,7.4,7.4,0,0,1,42.6,0a8.87,8.87,0,0,1,1.12.07q.57.07,1.08.19t.95.26a4.27,4.27,0,0,1,.7.29,1.59,1.59,0,0,1,.49.41.94.94,0,0,1,.15.55v.79q0,.52-.38.52a1.76,1.76,0,0,1-.64-.2,7.74,7.74,0,0,0-3.2-.64,4.37,4.37,0,0,0-2.21.47,1.6,1.6,0,0,0-.79,1.48,1.58,1.58,0,0,0,.49,1.18,4.94,4.94,0,0,0,1.83.92L44.55,7a5.08,5.08,0,0,1,2.57,1.6A3.76,3.76,0,0,1,47.9,11a4.21,4.21,0,0,1-.44,1.93,4.4,4.4,0,0,1-1.21,1.47,5.43,5.43,0,0,1-1.85.93A8.25,8.25,0,0,1,42.05,15.62Z"
    ></path>
    <path
      class="cls-2"
      d="M45.19,23.81C39.72,27.85,31.78,30,25,30A36.64,36.64,0,0,1,.22,20.57c-.51-.46-.06-1.09.56-.74A49.78,49.78,0,0,0,25.53,26.4,49.23,49.23,0,0,0,44.4,22.53C45.32,22.14,46.1,23.14,45.19,23.81Z"
    ></path>
    <path
      class="cls-2"
      d="M47.47,21.21c-.7-.9-4.63-.42-6.39-.21-.53.06-.62-.4-.14-.74,3.13-2.2,8.27-1.57,8.86-.83s-.16,5.89-3.09,8.35c-.45.38-.88.18-.68-.32C46.69,25.8,48.17,22.11,47.47,21.21Z"
    ></path>
  </svg>
</a>
</div>
     <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="../../../js/lunr.min.js?1765039783"></script>
<script type="text/javascript" src="../../../js/auto-complete.js?1765039783"></script>
<script type="text/javascript">
    
        var baseurl = "https:\/\/nicolaihong.github.io\/InternReport_FCJ\/";
    
</script>
<script type="text/javascript" src="../../../js/search.js?1765039783"></script>
 
  </div>

  <div class="highlightable">
    <ul class="topics">
               
<li
  data-nav-id="/1-worklog/"
  title="Worklog"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../1-worklog/">
     <b> 1. </b> Worklog 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
  <ul>
          
            
<li
  data-nav-id="/1-worklog/1.1-week1/"
  title="Week 1 Worklog"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../1-worklog/1.1-week1/">
     <b> 1.1. </b> Week 1 Worklog 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/1-worklog/1.2-week2/"
  title="Week 2 Worklog"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../1-worklog/1.2-week2/">
     <b> 1.2. </b> Week 2 Worklog 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/1-worklog/1.12-week12/"
  title="Week 12 Worklog"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../1-worklog/1.12-week12/">
     <b> 1.12. </b> Week 12 Worklog 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/1-worklog/1.3-week3/"
  title="Week 3 Worklog"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../1-worklog/1.3-week3/">
     <b> 1.3. </b> Week 3 Worklog 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/1-worklog/1.4-week4/"
  title="Week 4 Worklog"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../1-worklog/1.4-week4/">
     <b> 1.4. </b> Week 4 Worklog 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/1-worklog/1.5-week5/"
  title="Week 5 Worklog"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../1-worklog/1.5-week5/">
     <b> 1.5. </b> Week 5 Worklog 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/1-worklog/1.6-week6/"
  title="Week 6 Worklog"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../1-worklog/1.6-week6/">
     <b> 1.6. </b> Week 6 Worklog 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/1-worklog/1.7-week7/"
  title="Week 7 Worklog"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../1-worklog/1.7-week7/">
     <b> 1.7. </b> Week 7 Worklog 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/1-worklog/1.8-week8/"
  title="Week 8 Worklog"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../1-worklog/1.8-week8/">
     <b> 1.8. </b> Week 8 Worklog 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/1-worklog/1.9-week9/"
  title="Week 9 Worklog"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../1-worklog/1.9-week9/">
     <b> 1.9. </b> Week 9 Worklog 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/1-worklog/1.10-week10/"
  title="Week 10 Worklog"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../1-worklog/1.10-week10/">
     <b> 1.10. </b> Week 10 Worklog 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/1-worklog/1.11-week11/"
  title="Week 11 Worklog"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../1-worklog/1.11-week11/">
     <b> 1.11. </b> Week 11 Worklog 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
     
  </ul>
  
</li>
           
<li
  data-nav-id="/2-proposal/"
  title="Proposal"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../2-proposal/">
     <b> 2. </b> Proposal 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
           
<li
  data-nav-id="/3-blogstranslated/"
  title="Translated Blogs"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../3-blogstranslated/">
     <b> 3. </b> Translated Blogs 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
  <ul>
          
            
<li
  data-nav-id="/3-blogstranslated/3.1-blog1/"
  title="Blog 1"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../3-blogstranslated/3.1-blog1/">
     <b> 3.1. </b> Blog 1 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/3-blogstranslated/3.2-blog2/"
  title="Blog 2"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../3-blogstranslated/3.2-blog2/">
     <b> 3.2. </b> Blog 2 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/3-blogstranslated/3.3-blog3/"
  title="Blog 3"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../3-blogstranslated/3.3-blog3/">
     <b> 3.3. </b> Blog 3 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/3-blogstranslated/3.4-blog4/"
  title="Blog 4"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../3-blogstranslated/3.4-blog4/">
     <b> 3.4. </b> Blog 4 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/3-blogstranslated/3.5-blog5/"
  title="Blog 5"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../3-blogstranslated/3.5-blog5/">
     <b> 3.5. </b> Blog 5 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/3-blogstranslated/3.6-blog6/"
  title="Blog 6"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../3-blogstranslated/3.6-blog6/">
     <b> 3.6. </b> Blog 6 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
     
  </ul>
  
</li>
           
<li
  data-nav-id="/4-eventparticipated/"
  title="Events Participated In"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../4-eventparticipated/">
     <b> 4. </b> Events Participated In 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
  <ul>
          
            
<li
  data-nav-id="/4-eventparticipated/4.1-event1/"
  title="Kick-off AWS FCJ Workforce - FPTU OJT FALL 2025"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../4-eventparticipated/4.1-event1/">
     <b> 4.1. </b> Kick-off AWS FCJ Workforce - FPTU OJT FALL 2025 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/4-eventparticipated/4.2-event2/"
  title="Data Science On AWS"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../4-eventparticipated/4.2-event2/">
     <b> 4.2. </b> Data Science On AWS 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/4-eventparticipated/4.3-event3/"
  title="Reinventing DevOps with AWS Generative AI"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../4-eventparticipated/4.3-event3/">
     <b> 4.3. </b> Reinventing DevOps with AWS Generative AI 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/4-eventparticipated/4.4-event4/"
  title="Generative AI with Amazon Bedrock"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../4-eventparticipated/4.4-event4/">
     <b> 4.4. </b> Generative AI with Amazon Bedrock 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/4-eventparticipated/4.5-event5/"
  title="DevOps on AWS"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../4-eventparticipated/4.5-event5/">
     <b> 4.5. </b> DevOps on AWS 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
     
  </ul>
  
</li>
           
<li
  data-nav-id="/5-workshop/"
  title="Workshop"
  class="dd-item 
        parent
        
        
        "
>
  <a href="../../../5-workshop/">
     <b> 5. </b> Workshop 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
  <ul>
          
            
<li
  data-nav-id="/5-workshop/5.1-frontend-deployment/"
  title="Part 1: Frontend Deployment with CloudFront, WAF, and S3"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../5-workshop/5.1-frontend-deployment/">
     <b> 5.1. </b> Part 1: Frontend Deployment with CloudFront, WAF, and S3 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
  <ul>
          
            
<li
  data-nav-id="/5-workshop/5.1-frontend-deployment/5.1.1-prerequisite/"
  title="Prerequisites"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../5-workshop/5.1-frontend-deployment/5.1.1-prerequisite/">
     <b> 5.1.1 </b> Prerequisites 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/5-workshop/5.1-frontend-deployment/5.1.2-s3-hosting/"
  title="S3 Static Website Hosting"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../5-workshop/5.1-frontend-deployment/5.1.2-s3-hosting/">
     <b> 5.1.2 </b> S3 Static Website Hosting 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/5-workshop/5.1-frontend-deployment/5.1.3-cloudfront-setup/"
  title="CloudFront Distribution Setup"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../5-workshop/5.1-frontend-deployment/5.1.3-cloudfront-setup/">
     <b> 5.1.3 </b> CloudFront Distribution Setup 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/5-workshop/5.1-frontend-deployment/5.1.4-waf/"
  title="AWS WAF Configuration"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../5-workshop/5.1-frontend-deployment/5.1.4-waf/">
     <b> 5.1.4 </b> AWS WAF Configuration 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/5-workshop/5.1-frontend-deployment/5.1.5-clean-up/"
  title="Part 4: Clean up"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../5-workshop/5.1-frontend-deployment/5.1.5-clean-up/">
     <b> 5.1.5 </b> Part 4: Clean up 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
     
  </ul>
  
</li>
    
            
<li
  data-nav-id="/5-workshop/5.2-serverless-backend/"
  title="Part 2: Backend Deployment with API Gateway, Lambda, RDS, and Cognito"
  class="dd-item 
        parent
        
        
        "
>
  <a href="../../../5-workshop/5.2-serverless-backend/">
     <b> 5.2 </b> Part 2: Backend Deployment with API Gateway, Lambda, RDS, and Cognito 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
  <ul>
          
            
<li
  data-nav-id="/5-workshop/5.2-serverless-backend/5.2.1-prerequisite/"
  title="Prerequisites"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../5-workshop/5.2-serverless-backend/5.2.1-prerequisite/">
     <b> 5.2.1 </b> Prerequisites 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/5-workshop/5.2-serverless-backend/5.2.2-vpc/"
  title="VPC and Network Setup"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../5-workshop/5.2-serverless-backend/5.2.2-vpc/">
     <b> 5.2.2 </b> VPC and Network Setup 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/5-workshop/5.2-serverless-backend/5.2.3-rds/"
  title="RDS Database Setup"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../5-workshop/5.2-serverless-backend/5.2.3-rds/">
     <b> 5.2.3 </b> RDS Database Setup 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/5-workshop/5.2-serverless-backend/5.2.4-secrets-manager/"
  title="AWS Secrets Manager Configuration"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../5-workshop/5.2-serverless-backend/5.2.4-secrets-manager/">
     <b> 5.2.4 </b> AWS Secrets Manager Configuration 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/5-workshop/5.2-serverless-backend/5.2.5-lambda/"
  title="Lambda Functions Development"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../5-workshop/5.2-serverless-backend/5.2.5-lambda/">
     <b> 5.2.5 </b> Lambda Functions Development 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/5-workshop/5.2-serverless-backend/5.2.6-api-gateway/"
  title="API Gateway Setup"
  class="dd-item 
        
        active
        
        "
>
  <a href="../../../5-workshop/5.2-serverless-backend/5.2.6-api-gateway/">
     <b> 5.2.6 </b> API Gateway Setup 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/5-workshop/5.2-serverless-backend/5.2.7-cognito/"
  title="Amazon Cognito Configuration"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../5-workshop/5.2-serverless-backend/5.2.7-cognito/">
     <b> 5.2.7 </b> Amazon Cognito Configuration 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/5-workshop/5.2-serverless-backend/5.2.8-frontend-integration/"
  title="Frontend Integration"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../5-workshop/5.2-serverless-backend/5.2.8-frontend-integration/">
     <b> 5.2.8 </b> Frontend Integration 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
            
<li
  data-nav-id="/5-workshop/5.2-serverless-backend/5.2.9-clean-up/"
  title="Clean up"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../5-workshop/5.2-serverless-backend/5.2.9-clean-up/">
     <b> 5.2.9 </b> Clean up 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
     
  </ul>
  
</li>
     
  </ul>
  
</li>
           
<li
  data-nav-id="/6-self-evaluation/"
  title="Self-Assessment"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../6-self-evaluation/">
     <b> 6. </b> Self-Assessment 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
           
<li
  data-nav-id="/7-feedback/"
  title="Sharing and Feedback"
  class="dd-item 
        
        
        
        "
>
  <a href="../../../7-feedback/">
     <b> 7. </b> Sharing and Feedback 
    <i class="fas fa-check read-icon"></i>
    
  </a>
   
</li>
    
    </ul>

     
    <section id="shortcuts">
      <h3>
        More
      </h3>
      <ul>
        
        <li>
          <a class="padding" href="https://www.facebook.com/groups/awsstudygroupfcj/"
            ><i class='fab fa-facebook'></i> AWS Study Group</a
          >
        </li>
        
      </ul>
    </section>
     
    <section id="prefooter">
      <hr />
      <ul>
        
        <li>
          <a class="padding">
            <i class="fas fa-language fa-fw"></i>
            <div class="select-style">
              <select id="select-language" onchange="location = this.value;">
                       
                <option
                  id="en"
                  value="https://nicolaihong.github.io/InternReport_FCJ/5-workshop/5.2-serverless-backend/5.2.6-api-gateway/"
                  selected
                >
                  English
                </option>
                            
                <option
                  id="vi"
                  value="https://nicolaihong.github.io/InternReport_FCJ/vi/5-workshop/5.2-serverless-backend/5.2.6-api-gateway/"
                >
                  Tiếng Việt
                </option>
                   
              </select>
              <svg
                version="1.1"
                id="Capa_1"
                xmlns="http://www.w3.org/2000/svg"
                xmlns:xlink="http://www.w3.org/1999/xlink"
                x="0px"
                y="0px"
                width="255px"
                height="255px"
                viewBox="0 0 255 255"
                style="enable-background: new 0 0 255 255"
                xml:space="preserve"
              >
                <g>
                  <g id="arrow-drop-down">
                    <polygon points="0,63.75 127.5,191.25 255,63.75 		" />
                  </g>
                </g>
              </svg>
            </div>
          </a>
        </li>
         
        <li>
          <a class="padding" href="#" data-clear-history-toggle=""
            ><i class="fas fa-history fa-fw"></i> Clear History</a
          >
        </li>
        
      </ul>
    </section>
    
    <section id="footer"><left>
    
    <b> Workshop</b> <br>
    <img src="https://hitwebcounter.com/counter/counter.php?page=7920860&style=0038&nbdigits=9&type=page&initCount=0"
        title="Migrate" Alt="web counter" border="0" /></a> <br>
    <b> <a href="https://cloudjourney.awsstudygroup.com/">Cloud Journey</a></b> <br>
    <img src="https://hitwebcounter.com/counter/counter.php?page=7830807&style=0038&nbdigits=9&type=page&initCount=0"
        title="Total CLoud Journey" Alt="web counter" border="0" />

</left>
<left>
    <br>
    <br>
    <b>Last Updated</b><br>
    <i>
        <span id="lastUpdated" style="color:orange;"></span>
    </i>

    <script>
        
        const today = new Date();
        
        const formattedDate = today.toLocaleDateString('en-GB');
        
        document.getElementById('lastUpdated').textContent = formattedDate;
    </script>
</left>
<left>
    <br>
    <br>
    <b> Team </b> <br>

    <i> <a href="https://www.facebook.com/groups/660548818043427" style="color:orange">First Cloud Journey </a> <br>

    </i>
</left>

<script async defer src="https://buttons.github.io/buttons.js"></script></section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            
            
          
          
            <a href='../../../'>Internship Report</a> > <a href='../../../5-workshop/'>Workshop</a> > <a href='../../../5-workshop/5.2-serverless-backend/'>Part 2: Backend Deployment with API Gateway, Lambda, RDS, and Cognito</a> > API Gateway Setup
          
        
          
        
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
  <div class="wrapper"><nav id="TableOfContents">
  <ul>
    <li><a href="#overview">Overview</a></li>
    <li><a href="#api-gateway-architecture">API Gateway Architecture</a>
      <ul>
        <li><a href="#what-well-build">What We&rsquo;ll Build</a></li>
        <li><a href="#costs-considerations">Costs Considerations</a></li>
      </ul>
    </li>
    <li><a href="#free-tier">Free-tier:</a></li>
    <li><a href="#paid-tier">Paid-tier</a>
      <ul>
        <li><a href="#api-gateway-concepts">API Gateway Concepts</a></li>
      </ul>
    </li>
    <li><a href="#step-1-create-rest-api">Step 1: Create REST API</a>
      <ul>
        <li><a href="#11-navigate-to-api-gateway-console">1.1 Navigate to API Gateway Console</a></li>
        <li><a href="#12-create-api">1.2 Create API</a></li>
        <li><a href="#13-configure-api-settings">1.3 Configure API Settings</a></li>
      </ul>
    </li>
    <li><a href="#step-2-create-resources-and-methods">Step 2: Create Resources and Methods</a>
      <ul>
        <li><a href="#21-create-users-resource">2.1 Create /users Resource</a></li>
        <li><a href="#22-create-usersid-resource">2.2 Create /users/{id} Resource</a></li>
        <li><a href="#23-create-post-method-on-users">2.3 Create POST Method on /users</a></li>
        <li><a href="#24-create-get-method-on-users">2.4 Create GET Method on /users</a></li>
        <li><a href="#25-create-get-method-on-usersid">2.5 Create GET Method on /users/{id}</a></li>
        <li><a href="#26-create-put-method-on-usersid">2.6 Create PUT Method on /users/{id}</a></li>
        <li><a href="#27-create-delete-method-on-usersid">2.7 Create DELETE Method on /users/{id}</a></li>
        <li><a href="#28-verify-resource-structure">2.8 Verify Resource Structure</a></li>
        <li><a href="#29-enable-cors-on-each-resources">2.9 Enable CORS on each resources</a></li>
      </ul>
    </li>
    <li><a href="#step-3-deploy-api">Step 3: Deploy API</a>
      <ul>
        <li><a href="#31-create-deployment">3.1 Create Deployment</a></li>
        <li><a href="#32-get-api-endpoint">3.2 Get API Endpoint</a></li>
      </ul>
    </li>
    <li><a href="#step-5-test-api-endpoints">Step 5: Test API Endpoints</a>
      <ul>
        <li><a href="#51-test-with-api-gateway-console">5.1 Test with API Gateway Console</a></li>
        <li><a href="#52-test-with-curl-command-line">5.2 Test with curl (Command Line)</a></li>
        <li><a href="#53-test-with-postman">5.3 Test with Postman</a></li>
      </ul>
    </li>
    <li><a href="#step-6-configure-stage-settings">Step 6: Configure Stage Settings</a>
      <ul>
        <li><a href="#61-enable-cloudwatch-logging">6.1 Enable CloudWatch Logging</a></li>
        <li><a href="#62-configure-throttling">6.2 Configure Throttling</a></li>
        <li><a href="#63-enable-caching-optional">6.3 Enable Caching (Optional)</a></li>
      </ul>
    </li>
    <li><a href="#step-7-monitor-api-performance">Step 7: Monitor API Performance</a>
      <ul>
        <li><a href="#71-view-api-gateway-metrics">7.1 View API Gateway Metrics</a></li>
        <li><a href="#72-view-cloudwatch-logs">7.2 View CloudWatch Logs</a></li>
      </ul>
    </li>
    <li><a href="#summary">Summary</a>
      <ul>
        <li><a href="#what-youve-built">What You&rsquo;ve Built</a></li>
      </ul>
    </li>
    <li><a href="#next-steps">Next Steps</a></li>
  </ul>
</nav></div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              API Gateway Setup
            </h1>
          

        



	<h2 id="overview">Overview</h2>
<p>In this section, you&rsquo;ll create an Amazon API Gateway REST API that serves as the entry point for your serverless backend. API Gateway will receive HTTP requests from clients, route them to your Lambda function, and return responses.</p>
<p><strong>What you&rsquo;ll accomplish:</strong></p>
<ul>
<li>Understand API Gateway concepts and integration types</li>
<li>Create a REST API in API Gateway</li>
<li>Define resources and methods for user operations</li>
<li>Configure Lambda proxy integration</li>
<li>Enable CORS for frontend integration</li>
<li>Deploy API to a stage</li>
<li>Test API endpoints with various tools</li>
<li>Monitor API usage and performance</li>
<li>Understand API Gateway pricing</li>
</ul>
<p><strong>Estimated time</strong>: 40-50 minutes</p>
<h2 id="api-gateway-architecture">API Gateway Architecture</h2>
<h3 id="what-well-build">What We&rsquo;ll Build</h3>
<pre tabindex="0"><code>Client (Browser/Mobile/Postman)
    ↓
HTTPS Request
    ↓
API Gateway REST API
    ├── POST   /users          → Lambda (Create User)
    ├── GET    /users          → Lambda (Get All Users)
    ├── GET    /users/{id}     → Lambda (Get Single User)
    ├── PUT    /users/{id}     → Lambda (Update User)
    └── DELETE /users/{id}     → Lambda (Delete User)
    ↓
Lambda Function (workshop-userHandler)
    ↓
RDS PostgreSQL
</code></pre><h3 id="costs-considerations">Costs Considerations</h3>
<h2 id="free-tier">Free-tier:</h2>
<p>1M REST API CALLS RECEIVED | 1M HTTP API CALLS RECEIVED | 1M MESSAGES | 750,000 CONNECTION MINUTES per month</p>
<h2 id="paid-tier">Paid-tier</h2>
<ol>
<li>
<p>REST API</p>
<table>
  <thead>
      <tr>
          <th><strong>API Calls (per month)</strong></th>
          <th><strong>Price (per million)</strong></th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>First 333 million</td>
          <td>$4.25</td>
      </tr>
      <tr>
          <td>Next 667 million</td>
          <td>$3.53</td>
      </tr>
      <tr>
          <td>Next 19 billion</td>
          <td>$3.00</td>
      </tr>
      <tr>
          <td>Over 20 billion</td>
          <td>$1.91</td>
      </tr>
  </tbody>
</table>
</li>
<li>
<p>Caching: 0.5GB -&gt; $0.028/hour</p>
</li>
<li>
<p>Additional costs: CloudWatch logs (free-tier eligible)</p>
</li>
<li>
<p>Overall: &lt;$5 (clean up immediately after finish workshop)</p>
</li>
</ol>
<h3 id="api-gateway-concepts">API Gateway Concepts</h3>
<p><strong>REST API:</strong></p>
<ul>
<li>Resource-based API (e.g., <code>/users</code>, <code>/users/{id}</code>)</li>
<li>Supports all HTTP methods (GET, POST, PUT, DELETE, etc.)</li>
<li>Request/response transformation</li>
<li>Built-in throttling and caching</li>
</ul>
<p><strong>Resources:</strong></p>
<ul>
<li>URL paths (e.g., <code>/users</code>)</li>
<li>Can be nested (e.g., <code>/users/{id}/tasks</code>)</li>
</ul>
<p><strong>Methods:</strong></p>
<ul>
<li>HTTP operations on resources (GET, POST, PUT, DELETE)</li>
<li>Each method can have different integration</li>
</ul>
<p><strong>Integration Types:</strong></p>
<ul>
<li><strong>Lambda Proxy</strong>: Passes entire request to Lambda (recommended)</li>
<li><strong>Lambda</strong>: Custom request/response mapping</li>
<li><strong>HTTP</strong>: Proxy to HTTP endpoint</li>
<li><strong>Mock</strong>: Returns static response</li>
<li><strong>AWS Service</strong>: Direct AWS service integration</li>
</ul>
<p><strong>Stages:</strong></p>
<ul>
<li>Deployment environments (e.g., dev, staging, prod)</li>
<li>Each stage has unique URL</li>
<li>Can have different settings per stage</li>
</ul>
<h2 id="step-1-create-rest-api">Step 1: Create REST API</h2>
<h3 id="11-navigate-to-api-gateway-console">1.1 Navigate to API Gateway Console</h3>
<ol>
<li>Go to AWS Console</li>
<li>Search for &ldquo;API Gateway&rdquo;</li>
<li>Click <strong>API Gateway</strong> under Services</li>
</ol>
<p><img src="../../../images/5-Workshop/5.2-Serverless/5.2.6-API-Gateway/1.png" alt="API Gateway Console"></p>
<h3 id="12-create-api">1.2 Create API</h3>
<ol>
<li>Click <strong>Create an API</strong></li>
</ol>
<p>You&rsquo;ll see several API types:</p>
<ul>
<li><strong>HTTP API</strong>: Simpler, cheaper, faster (70% cost reduction)</li>
<li><strong>REST API</strong>: Full features, request/response transformation</li>
<li><strong>WebSocket API</strong>: Real-time bidirectional communication</li>
<li><strong>REST API (Private)</strong>: VPC-only access</li>
</ul>
<ol start="2">
<li>Under <strong>REST API</strong>, click <strong>Build</strong></li>
</ol>
<p><img src="../../../images/5-Workshop/5.2-Serverless/5.2.6-API-Gateway/2.png" alt="API Gateway REST API"></p>
<h3 id="13-configure-api-settings">1.3 Configure API Settings</h3>
<ol>
<li><strong>Choose the protocol:</strong></li>
</ol>
<ul>
<li>Keep <strong>REST</strong> selected</li>
</ul>
<ol start="2">
<li><strong>Create new API:</strong></li>
</ol>
<ul>
<li>Select <strong>New API</strong></li>
</ul>
<p><strong>API details:</strong></p>
<ol start="3">
<li>
<p><strong>API name:</strong> <code>workshop-user-api</code></p>
</li>
<li>
<p><strong>Description:</strong> <code>REST API for user management in serverless workshop</code></p>
</li>
<li>
<p><strong>Endpoint Type:</strong></p>
</li>
</ol>
<ul>
<li>Select <strong>Regional</strong>
<ul>
<li>Deployed in current region</li>
<li>Lower latency for users in same region</li>
<li>Can add CloudFront later for global distribution</li>
</ul>
</li>
</ul>

<div
  class="notices info"
  
>
  <p><strong>Endpoint Types:</strong><br>
<strong>Regional</strong>: Deployed in a single region, recommended for most use cases<br>
<strong>Edge Optimized</strong>: Automatically distributed via CloudFront (adds latency for regional traffic)<br>
<strong>Private</strong>: Only accessible within VPC<br>
For this workshop, <strong>Regional</strong> is best. You already have CloudFront from Part 1: Frontend Deployment if you want global distribution.</p>

</div>

<ol start="6">
<li><strong>Security policy</strong></li>
</ol>
<ul>
<li>Select <strong>SecurityPolicy_TLS13_1_2_2021_06</strong></li>
<li>This option protects data in transit between a client and server with TLS 1.3</li>
</ul>
<ol start="3">
<li>Click <strong>Create API</strong></li>
</ol>
<p><img src="../../../images/5-Workshop/5.2-Serverless/5.2.6-API-Gateway/3.png" alt="API Gateway Settings"></p>
<p>You&rsquo;ll be taken to the API Gateway console showing your new API.</p>
<p><img src="../../../images/5-Workshop/5.2-Serverless/5.2.6-API-Gateway/4.png" alt="API Gateway Created"></p>
<h2 id="step-2-create-resources-and-methods">Step 2: Create Resources and Methods</h2>
<h3 id="21-create-users-resource">2.1 Create /users Resource</h3>
<p>A resource represents a REST API endpoint path.</p>
<ol>
<li>In the API Gateway console, select <strong>Resources</strong> in left navigation (if not already selected)</li>
<li>Click <strong>Create Resource</strong></li>
</ol>
<p><strong>Proxy resource</strong>:</p>
<ul>
<li>Essentially a catch-all resource</li>
<li>A proxy resource (often created as {proxy+}) is a special type of resource in API Gateway that forwards all requests to a single backend (such as a Lambda function) — regardless of the URL path or HTTP method.</li>
<li>We won&rsquo;t be using this for our workshop since our API is simple</li>
</ul>
<p><strong>Resource Path:</strong> <code>/</code></p>
<p><strong>Resource Name:</strong> <code>users</code></p>
<ul>
<li>This becomes the URL path</li>
</ul>
<p><strong>CORS:</strong></p>
<ul>
<li>Check this box</li>
<li>Automatically adds OPTIONS method with CORS headers</li>
<li>Enable CORS on all child methods</li>
<li>Required for browser-based frontends</li>
</ul>
<p><img src="../../../images/5-Workshop/5.2-Serverless/5.2.6-API-Gateway/5.png" alt="API Gateway Resource Settings"></p>
<ol start="4">
<li>Click <strong>Create Resource</strong></li>
</ol>
<p>You&rsquo;ll see <code>/users</code> appear in the resource tree.</p>
<p><img src="../../../images/5-Workshop/5.2-Serverless/5.2.6-API-Gateway/6.png" alt="API Gateway Users Resource"></p>
<h3 id="22-create-usersid-resource">2.2 Create /users/{id} Resource</h3>
<p>Create a child resource with path parameter for single user operations.</p>
<ol>
<li>Select <code>/users</code> resource (click on it)</li>
<li>Click <strong>Create method</strong></li>
</ol>
<p><strong>New Child Resource:</strong></p>
<p><strong>Resource Path:</strong> <code>user</code></p>
<ul>
<li>Singular, represents a single user</li>
</ul>
<p><strong>Resource Name:</strong> <code>{id}</code></p>
<ul>
<li>Curly braces indicate a path parameter</li>
</ul>
<p><strong>CORS:</strong></p>
<ul>
<li>Check this box</li>
</ul>
<p><img src="../../../images/5-Workshop/5.2-Serverless/5.2.6-API-Gateway/7.png" alt="API Gateway ID Resource"></p>
<ol start="3">
<li>Click <strong>Create Resource</strong></li>
</ol>
<p>Your resource tree now shows:</p>
<p><img src="../../../images/5-Workshop/5.2-Serverless/5.2.6-API-Gateway/8.png" alt="API Gateway Resource Tree"></p>
<h3 id="23-create-post-method-on-users">2.3 Create POST Method on /users</h3>
<p>Methods define HTTP operations on resources.</p>
<ol>
<li>Click on <code>/users</code> resource</li>
<li>Click <strong>Create Method</strong></li>
<li>Select <strong>POST</strong></li>
</ol>
<p><strong>Setup - POST:</strong></p>
<p><strong>Integration type:</strong></p>
<ul>
<li>Select <strong>Lambda Function</strong></li>
</ul>
<p><strong>Use Lambda Proxy integration:</strong></p>
<ul>
<li>Check this box</li>
<li>Passes entire request to Lambda as-is</li>
<li>Lambda returns API Gateway-formatted response</li>
</ul>
<p><strong>Lambda Region:</strong></p>
<ul>
<li>Select your region (e.g., <code>ap-southeast-1</code>)</li>
</ul>
<p><strong>Lambda Function:</strong></p>
<ul>
<li>Type: <code>workshop-lambda-sm-rds</code></li>
<li>Should auto-complete</li>
</ul>
<p><strong>Permission prompt:</strong>
You&rsquo;ll see a popup: &ldquo;Add Permission to Lambda Function&rdquo;</p>
<p>This grants API Gateway permission to invoke your Lambda function.</p>
<ol start="7">
<li>Click <strong>Create method</strong></li>
</ol>
<p><img src="../../../images/5-Workshop/5.2-Serverless/5.2.6-API-Gateway/9.png" alt="API Gateway POST Setup"></p>
<h3 id="24-create-get-method-on-users">2.4 Create GET Method on /users</h3>
<p>Get all users.</p>
<ol>
<li>Click on <code>/users</code> resource</li>
<li>Click <strong>Create Method</strong></li>
<li><strong>Method</strong>: <strong>GET</strong></li>
</ol>
<p><strong>Setup - GET:</strong></p>
<ul>
<li><strong>Integration type:</strong> Lambda Function</li>
<li><strong>Use Lambda Proxy integration:</strong> Checked</li>
<li><strong>Lambda Function:</strong> <code>workshop-lambda-sm-rds</code></li>
</ul>
<ol start="4">
<li>Click <strong>Create method</strong></li>
</ol>
<h3 id="25-create-get-method-on-usersid">2.5 Create GET Method on /users/{id}</h3>
<p>Get single user.</p>
<ol>
<li>Click on <code>/users/{id}</code> resource</li>
<li>Click <strong>Create Method</strong></li>
<li><strong>Method</strong>: <strong>GET</strong></li>
</ol>
<p><strong>Setup - GET:</strong></p>
<ul>
<li><strong>Integration type:</strong> Lambda Function</li>
<li><strong>Use Lambda Proxy integration:</strong> Checked</li>
<li><strong>Lambda Function:</strong> <code>workshop-lambda-sm-rds</code></li>
</ul>
<ol start="4">
<li>Click <strong>Create method</strong></li>
</ol>
<h3 id="26-create-put-method-on-usersid">2.6 Create PUT Method on /users/{id}</h3>
<p>Update user.</p>
<ol>
<li>Click on <code>/users/{id}</code> resource</li>
<li>Click <strong>Create Method</strong></li>
<li><strong>Method</strong>: <strong>PUT</strong></li>
</ol>
<p><strong>Setup - PUT:</strong></p>
<ul>
<li><strong>Integration type:</strong> Lambda Function</li>
<li><strong>Use Lambda Proxy integration:</strong> Checked</li>
<li><strong>Lambda Function:</strong> <code>workshop-lambda-sm-rds</code></li>
</ul>
<ol start="4">
<li>Click <strong>Create method</strong></li>
</ol>
<h3 id="27-create-delete-method-on-usersid">2.7 Create DELETE Method on /users/{id}</h3>
<p>Delete user.</p>
<ol>
<li>Click on <code>/users/{id}</code> resource</li>
<li>Click <strong>Create Method</strong></li>
<li><strong>Method</strong>: <strong>DELETE</strong></li>
</ol>
<p><strong>Setup - DELETE:</strong></p>
<ul>
<li><strong>Integration type:</strong> Lambda Function</li>
<li><strong>Use Lambda Proxy integration:</strong> Checked</li>
<li><strong>Lambda Function:</strong> <code>workshop-lambda-sm-rds</code></li>
</ul>
<ol start="4">
<li>Click <strong>Create method</strong></li>
</ol>
<h3 id="28-verify-resource-structure">2.8 Verify Resource Structure</h3>
<p>Your API structure should now look like:</p>
<p><img src="../../../images/5-Workshop/5.2-Serverless/5.2.6-API-Gateway/10.png" alt="API Gateway Complete Structure"></p>
<h3 id="29-enable-cors-on-each-resources">2.9 Enable CORS on each resources</h3>
<ol>
<li>Click <strong>/users</strong> resource</li>
<li>Click <strong>Enable CORS</strong></li>
<li>Select the methods: GET, POST</li>
<li><strong>Access-Control-Allow-Origin</strong>: input your CloudFront endpoint to restrict origin, or <code>*</code> for debug</li>
<li>Click <strong>Save</strong></li>
</ol>
<p><img src="../../../images/5-Workshop/5.2-Serverless/5.2.6-API-Gateway/26.png" alt="API Gateway Complete Structure"></p>
<ol start="6">
<li>Do the same for <strong>/{id}</strong> resource (methods: GET, PUT, DELETE)</li>
<li>After enabling CORS for those two resources, you will see OPTION method in each resource</li>
<li>Click on OPTION method, go to <strong>Integration response</strong> to see the details</li>
</ol>
<p><img src="../../../images/5-Workshop/5.2-Serverless/5.2.6-API-Gateway/27.png" alt="API Gateway Complete Structure"></p>
<h2 id="step-3-deploy-api">Step 3: Deploy API</h2>
<p>APIs must be deployed to a stage before they&rsquo;re accessible.</p>
<h3 id="31-create-deployment">3.1 Create Deployment</h3>
<ol>
<li>Click <strong>Deploy API</strong></li>
</ol>
<p><strong>Deployment stage:</strong></p>
<ul>
<li>Select <strong>[New Stage]</strong></li>
</ul>
<p><strong>Stage name:</strong> <code>dev</code></p>
<ul>
<li>Short for development</li>
<li>Other common names: <code>prod</code>, <code>staging</code>, <code>test</code></li>
</ul>
<p><strong>Stage description:</strong> <code>Development stage for workshop</code></p>
<p><strong>Deployment description:</strong> <code>Initial deployment</code></p>
<p><img src="../../../images/5-Workshop/5.2-Serverless/5.2.6-API-Gateway/11.png" alt="API Gateway Deploy Settings"></p>
<ol start="3">
<li>Click <strong>Deploy</strong></li>
</ol>
<h3 id="32-get-api-endpoint">3.2 Get API Endpoint</h3>
<p>After deployment, you&rsquo;ll see the <strong>Stage Editor</strong>.</p>
<p><strong>Invoke URL</strong> is your API&rsquo;s base URL:</p>
<pre tabindex="0"><code>https://abc123xyz.execute-api.[region].amazonaws.com/dev
</code></pre><p><img src="../../../images/5-Workshop/5.2-Serverless/5.2.6-API-Gateway/12.png" alt="API Gateway Invoke URL"></p>
<h2 id="step-5-test-api-endpoints">Step 5: Test API Endpoints</h2>
<h3 id="51-test-with-api-gateway-console">5.1 Test with API Gateway Console</h3>
<p>API Gateway provides a built-in testing tool.</p>
<p><strong>Test POST /users (Create User):</strong></p>
<ol>
<li>In the left navigation, click <strong>Resources</strong></li>
<li>Click on <code>/users</code> → <strong>POST</strong> method</li>
<li>Go to *<em>Test</em> tab</li>
</ol>
<p><strong>Request Body:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;cognitoSub&#34;</span>: <span style="color:#e6db74">&#34;test-sub-123&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;username&#34;</span>: <span style="color:#e6db74">&#34;Test User&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;email&#34;</span>: <span style="color:#e6db74">&#34;test@example.com&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;role&#34;</span>: <span style="color:#e6db74">&#34;user&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;phoneNumber&#34;</span>: <span style="color:#e6db74">&#34;1234567890&#34;</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><img src="../../../images/5-Workshop/5.2-Serverless/5.2.6-API-Gateway/13.png" alt="API Gateway Test POST"></p>
<ol start="4">
<li>Click <strong>Test</strong></li>
</ol>
<p><strong>Expected Response:</strong></p>
<p><strong>Status:</strong> 201</p>
<p><strong>Response Body:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;success&#34;</span>: <span style="color:#66d9ef">true</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;data&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;id&#34;</span>: <span style="color:#ae81ff">3</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;cognito_sub&#34;</span>: <span style="color:#e6db74">&#34;test-sub-123&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;username&#34;</span>: <span style="color:#e6db74">&#34;Test User&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;email&#34;</span>: <span style="color:#e6db74">&#34;test@example.com&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;role&#34;</span>: <span style="color:#e6db74">&#34;user&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;phone_number&#34;</span>: <span style="color:#e6db74">&#34;1234567890&#34;</span>
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><strong>Response Headers:</strong></p>
<pre tabindex="0"><code>Content-Type: application/json
</code></pre><p><strong>Logs:</strong>
Shows Lambda execution logs inline</p>
<p><img src="../../../images/5-Workshop/5.2-Serverless/5.2.6-API-Gateway/14.png" alt="API Gateway Test Response"></p>
<p><strong>Test GET /users (Get All Users):</strong></p>
<ol>
<li>Click on <code>/users</code> → <strong>GET</strong> method</li>
<li>Click <strong>Test</strong></li>
<li>No request body needed</li>
<li>Click <strong>Test</strong></li>
</ol>
<p><strong>Expected Response:</strong></p>
<p><strong>Status:</strong> 200</p>
<p><strong>Response Body:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;success&#34;</span>: <span style="color:#66d9ef">true</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;data&#34;</span>: [
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;id&#34;</span>: <span style="color:#ae81ff">1</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;cognito_sub&#34;</span>: <span style="color:#e6db74">&#34;demo-sub-1&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;username&#34;</span>: <span style="color:#e6db74">&#34;Alice&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;email&#34;</span>: <span style="color:#e6db74">&#34;alice@example.com&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;role&#34;</span>: <span style="color:#e6db74">&#34;admin&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;phone_number&#34;</span>: <span style="color:#e6db74">&#34;1234567890&#34;</span>
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;id&#34;</span>: <span style="color:#ae81ff">2</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;cognito_sub&#34;</span>: <span style="color:#e6db74">&#34;demo-sub-2&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;username&#34;</span>: <span style="color:#e6db74">&#34;Bob&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;email&#34;</span>: <span style="color:#e6db74">&#34;bob@example.com&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;role&#34;</span>: <span style="color:#e6db74">&#34;user&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;phone_number&#34;</span>: <span style="color:#e6db74">&#34;0987654321&#34;</span>
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;id&#34;</span>: <span style="color:#ae81ff">3</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;cognito_sub&#34;</span>: <span style="color:#e6db74">&#34;test-sub-123&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;username&#34;</span>: <span style="color:#e6db74">&#34;Test User&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;email&#34;</span>: <span style="color:#e6db74">&#34;test@example.com&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;role&#34;</span>: <span style="color:#e6db74">&#34;user&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;phone_number&#34;</span>: <span style="color:#e6db74">&#34;1234567890&#34;</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  ]
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><img src="../../../images/5-Workshop/5.2-Serverless/5.2.6-API-Gateway/15.png" alt="API Gateway Test Response"></p>
<p><strong>Test GET /users/{id} (Get Single User):</strong></p>
<ol>
<li>Click on <code>/users/{id}</code> → <strong>GET</strong> method</li>
<li>Click <strong>Test</strong></li>
</ol>
<p><strong>Path Parameters:</strong></p>
<ul>
<li><strong>id:</strong> <code>1</code></li>
</ul>
<p><img src="../../../images/5-Workshop/5.2-Serverless/5.2.6-API-Gateway/16.png" alt="API Gateway Test Response"></p>
<ol start="3">
<li>Click <strong>Test</strong></li>
</ol>
<p><strong>Expected Response:</strong></p>
<p><strong>Status:</strong> 200</p>
<p><strong>Response Body:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;success&#34;</span>: <span style="color:#66d9ef">true</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;data&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;id&#34;</span>: <span style="color:#ae81ff">1</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;cognito_sub&#34;</span>: <span style="color:#e6db74">&#34;demo-sub-1&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;username&#34;</span>: <span style="color:#e6db74">&#34;Alice&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;email&#34;</span>: <span style="color:#e6db74">&#34;alice@example.com&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;role&#34;</span>: <span style="color:#e6db74">&#34;admin&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;phone_number&#34;</span>: <span style="color:#e6db74">&#34;1234567890&#34;</span>
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="52-test-with-curl-command-line">5.2 Test with curl (Command Line)</h3>
<p>Test your deployed API from terminal:</p>
<p><strong>Set your API URL:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>API_URL<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;https://YOUR-API-ID.execute-api.[region].amazonaws.com/dev&#34;</span>
</span></span></code></pre></div><p><strong>Create User:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>curl -X POST <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>API_URL<span style="color:#e6db74">}</span><span style="color:#e6db74">/users&#34;</span> <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  -H <span style="color:#e6db74">&#34;Content-Type: application/json&#34;</span> <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  -d <span style="color:#e6db74">&#39;{
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    &#34;cognitoSub&#34;: &#34;curl-test-456&#34;,
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    &#34;username&#34;: &#34;Curl User&#34;,
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    &#34;email&#34;: &#34;curl@example.com&#34;,
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    &#34;role&#34;: &#34;user&#34;,
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    &#34;phoneNumber&#34;: &#34;5551234567&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">  }&#39;</span>
</span></span></code></pre></div><p><strong>Get All Users:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>curl -X GET <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>API_URL<span style="color:#e6db74">}</span><span style="color:#e6db74">/users&#34;</span>
</span></span></code></pre></div><p><strong>Get Single User:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>curl -X GET <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>API_URL<span style="color:#e6db74">}</span><span style="color:#e6db74">/users/1&#34;</span>
</span></span></code></pre></div><p><strong>Update User:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>curl -X PUT <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>API_URL<span style="color:#e6db74">}</span><span style="color:#e6db74">/users/1&#34;</span> <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  -H <span style="color:#e6db74">&#34;Content-Type: application/json&#34;</span> <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  -d <span style="color:#e6db74">&#39;{
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    &#34;username&#34;: &#34;Updated Name&#34;,
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    &#34;email&#34;: &#34;updated@example.com&#34;,
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    &#34;role&#34;: &#34;admin&#34;,
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    &#34;phoneNumber&#34;: &#34;9998887777&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">  }&#39;</span>
</span></span></code></pre></div><p><strong>Delete User:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>curl -X DELETE <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>API_URL<span style="color:#e6db74">}</span><span style="color:#e6db74">/users/3&#34;</span>
</span></span></code></pre></div><h3 id="53-test-with-postman">5.3 Test with Postman</h3>
<p>Postman provides a user-friendly interface for API testing.</p>
<p><strong>Import API to Postman:</strong></p>
<ol>
<li>In API Gateway console, go to <strong>Stages</strong> → <strong>dev</strong></li>
<li>Click <strong>Stage action</strong> → <strong>Export</strong></li>
<li>In the <strong>Export API</strong> modal, leave all settings as default. Click <strong>Export API</strong></li>
<li>Download the json file</li>
<li>Open Postman, click <strong>Import</strong></li>
<li>On the opened modal, click <strong>files</strong></li>
</ol>
<p><img src="../../../images/5-Workshop/5.2-Serverless/5.2.6-API-Gateway/17.png" alt="Postman Import"></p>
<ol start="7">
<li>On the next modal, click <strong>Import</strong></li>
</ol>
<p><img src="../../../images/5-Workshop/5.2-Serverless/5.2.6-API-Gateway/18.png" alt="Postman Import"></p>
<ol start="8">
<li>Expand <strong>workshop-user-api</strong>, select <strong>GET /users</strong> to test get all users route</li>
<li>Click <strong>Send</strong></li>
<li>View response</li>
</ol>
<p><img src="../../../images/5-Workshop/5.2-Serverless/5.2.6-API-Gateway/19.png" alt="Postman response"></p>
<h2 id="step-6-configure-stage-settings">Step 6: Configure Stage Settings</h2>
<h3 id="61-enable-cloudwatch-logging">6.1 Enable CloudWatch Logging</h3>
<ol>
<li>In API Gateway console, go to <strong>Stages</strong></li>
<li>Click <strong>dev</strong> stage</li>
<li>Under <strong>Logs and racing</strong> card, click <strong>Edit</strong></li>
</ol>
<p><strong>CloudWatch Settings:</strong></p>
<p><strong>CloudWatch Logs:</strong></p>
<ul>
<li>Select <strong>Errors and info logs</strong></li>
<li>This includes
<ul>
<li>Request received</li>
<li>Request body (if enabled)</li>
<li>Integration request</li>
<li>Integration response</li>
<li>Execution summary</li>
<li>Errors</li>
</ul>
</li>
</ul>
<p><strong>Data tracing:</strong></p>
<ul>
<li>Check this box (for development)</li>
<li>Logs request/response bodies</li>
<li>Disable in production (may contain sensitive data)</li>
</ul>
<p><strong>Enable Detailed Metrics:</strong></p>
<ul>
<li>Check this box</li>
<li>Provides method-level metrics</li>
<li>Small additional cost ($0.50/month per metric)</li>
</ul>
<p><img src="../../../images/5-Workshop/5.2-Serverless/5.2.6-API-Gateway/20.png" alt="API Gateway Stage Logging"></p>
<ol start="4">
<li>Click <strong>Save Changes</strong></li>
</ol>
<p><strong>Grant API Gateway Permission:</strong></p>
<p>If this is your first API with logging, you&rsquo;ll need to set up an IAM role:</p>
<ol>
<li>In <strong>IAM</strong> dashboard, create role with:
<ul>
<li><strong>Trusted entity type:</strong> AWS Service</li>
<li><strong>Use case:</strong> API Gateway</li>
<li><strong>Policy:</strong> <strong>AmazonAPIGatewayPushToCloudWatchLogs</strong></li>
<li><strong>Role name:</strong> <code>api-gw-push-cloudwatch-logs</code></li>
</ul>
</li>
<li>Copy the Role ARN</li>
<li>Go back to <strong>API Gateway</strong> dashboard</li>
<li>On the left sidebar, click <strong>Settings</strong></li>
<li>In <strong>Logging</strong>, click <strong>Edit</strong></li>
<li>Paste the Role ARN to the textbox</li>
<li>Click <strong>Save changes</strong></li>
</ol>
<h3 id="62-configure-throttling">6.2 Configure Throttling</h3>
<p>Protect your API from abuse with rate limiting.</p>
<ol>
<li>Still in <strong>dev</strong> stage settings</li>
<li>in <strong>Stage details</strong> card, click <strong>Edit</strong></li>
</ol>
<p><strong>Throttling settings:</strong></p>
<p><strong>Enabled</strong></p>
<p><strong>Rate:</strong> <code>1000</code> requests per second</p>
<ul>
<li>Burst capacity for temporary spikes</li>
</ul>
<p><strong>Burst:</strong> <code>2000</code> requests</p>
<ul>
<li>Total requests allowed in burst</li>
</ul>
<p><img src="../../../images/5-Workshop/5.2-Serverless/5.2.6-API-Gateway/22.png" alt="API Gateway Throttling"></p>
<p><strong>Throttling Limits:</strong></p>
<p>When limits are exceeded:</p>
<ul>
<li>Client receives <strong>429 Too Many Requests</strong></li>
<li>Requests are rejected before reaching Lambda</li>
<li>Protects backend from overload</li>
<li>No Lambda costs for throttled requests</li>
</ul>
<p><strong>Default AWS Account Limits:</strong></p>
<ul>
<li>10,000 requests per second per region</li>
<li>Can request increase via support ticket</li>
</ul>
<p>For this workshop, 1000 req/s is more than sufficient.</p>
<h3 id="63-enable-caching-optional">6.3 Enable Caching (Optional)</h3>
<p>API caching reduces Lambda invocations and improves performance.</p>
<ol>
<li>In <strong>dev</strong> stage, click <strong>Settings</strong> tab</li>
<li>Scroll to <strong>Cache Settings</strong></li>
</ol>
<p><strong>Provision API cache:</strong></p>
<ul>
<li>Check this box</li>
</ul>
<p><strong>Cache capacity:</strong> <code>0.5 GB</code></p>
<ul>
<li>Smallest size</li>
<li>Sufficient for workshop</li>
</ul>
<p><strong>Cache time-to-live (TTL):</strong> <code>300</code> seconds (5 minutes)</p>
<ul>
<li>How long responses are cached</li>
</ul>
<p><strong>Per-key cache invalidation:</strong></p>
<ul>
<li>Invalidate certain data in cache based on a key instead of the whole cache</li>
</ul>
<p><img src="../../../images/5-Workshop/5.2-Serverless/5.2.6-API-Gateway/21.png" alt="API Gateway Throttling"></p>
<p><strong>Caching Costs:</strong></p>
<p>API Gateway caching is relatively expensive:</p>
<ul>
<li>0.5 GB cache: $0.028/hour (~$20.16/month)</li>
</ul>
<p><strong>For this workshop:</strong> Skip caching to avoid costs. It&rsquo;s included here for completeness.</p>
<p><strong>When to use caching:</strong></p>
<ul>
<li>High read traffic (&gt;1000 req/min)</li>
<li>Data doesn&rsquo;t change frequently</li>
<li>Latency is critical</li>
<li>Cost of Lambda invocations &gt; cost of cache</li>
</ul>
<p>For user data that changes frequently, caching may not be appropriate.</p>
<h2 id="step-7-monitor-api-performance">Step 7: Monitor API Performance</h2>
<h3 id="71-view-api-gateway-metrics">7.1 View API Gateway Metrics</h3>
<ol>
<li>In API Gateway console, go to <strong>Dashboard</strong> (left navigation)</li>
<li>Select your API: <code>workshop-user-api</code></li>
<li>Select stage: <code>dev</code></li>
</ol>
<p><strong>Metrics displayed:</strong></p>
<p><strong>API calls:</strong></p>
<ul>
<li>Total number of requests over time period</li>
<li>Broken down by hour/day</li>
</ul>
<p><strong>Integration latency:</strong></p>
<ul>
<li>Time spent in Lambda function</li>
<li>Excludes API Gateway overhead</li>
</ul>
<p><strong>Latency:</strong></p>
<ul>
<li>Total request time (API Gateway + Lambda)</li>
<li>Includes network, integration, and processing time</li>
</ul>
<p><strong>4XX errors:</strong></p>
<ul>
<li>Client errors (bad requests, not found, etc.)</li>
<li>Should be low in well-designed APIs</li>
</ul>
<p><strong>5XX errors:</strong></p>
<ul>
<li>Server errors (Lambda errors, timeouts, etc.)</li>
<li>Should be monitored closely</li>
</ul>
<p><img src="../../../images/5-Workshop/5.2-Serverless/5.2.6-API-Gateway/23.png" alt="API Gateway Dashboard"></p>
<h3 id="72-view-cloudwatch-logs">7.2 View CloudWatch Logs</h3>
<ol>
<li>Go to CloudWatch console</li>
<li>Click <strong>Log groups</strong></li>
<li>Find: <code>API-Gateway-Execution-Logs_{api-id}/dev</code></li>
<li>Click on log group</li>
<li>Click on latest log stream</li>
</ol>
<p><strong>Sample log entry:</strong></p>
<pre tabindex="0"><code>(abc-123-def) Method request body before transformations: {
  &#34;cognitoSub&#34;: &#34;test-123&#34;,
  &#34;username&#34;: &#34;Test User&#34;,
  &#34;email&#34;: &#34;test@example.com&#34;,
  &#34;role&#34;: &#34;user&#34;,
  &#34;phoneNumber&#34;: &#34;1234567890&#34;
}

(abc-123-def) Endpoint request URI: https://lambda.us-east-1.amazonaws.com/2015-03-31/functions/arn:aws:lambda:us-east-1:123456789012:function:workshop-userHandler/invocations

(abc-123-def) Endpoint response body before transformations: {
  &#34;statusCode&#34;: 201,
  &#34;headers&#34;: {
    &#34;Content-Type&#34;: &#34;application/json&#34;
  },
  &#34;body&#34;: &#34;{\&#34;success\&#34;:true,\&#34;data\&#34;:{\&#34;id\&#34;:1,...}}&#34;
}

(abc-123-def) Method response body after transformations: {
  &#34;success&#34;: true,
  &#34;data&#34;: {
    &#34;id&#34;: 1,
    &#34;cognito_sub&#34;: &#34;test-123&#34;,
    &#34;username&#34;: &#34;Test User&#34;,
    &#34;email&#34;: &#34;test@example.com&#34;,
    &#34;role&#34;: &#34;user&#34;,
    &#34;phone_number&#34;: &#34;1234567890&#34;
  }
}

(abc-123-def) Method completed with status: 201
</code></pre><p><img src="../../../images/5-Workshop/5.2-Serverless/5.2.6-API-Gateway/24.png" alt="API Gateway CloudWatch Logs"></p>
<h2 id="summary">Summary</h2>
<p>Congratulations! You&rsquo;ve successfully:</p>
<ul>
<li>Created REST API in API Gateway</li>
<li>Defined resources and methods for CRUD operations</li>
<li>Configured Lambda proxy integration</li>
<li>Enabled CORS for frontend compatibility</li>
<li>Deployed API to dev stage</li>
<li>Tested endpoints with multiple tools</li>
<li>Configured logging and monitoring</li>
<li>Set up throttling for protection</li>
</ul>
<h3 id="what-youve-built">What You&rsquo;ve Built</h3>
<p>Your API Gateway now provides:</p>
<ul>
<li><strong>RESTful endpoints</strong> for all user operations</li>
<li><strong>HTTPS security</strong> by default</li>
<li><strong>CORS support</strong> for frontend integration</li>
<li><strong>Request throttling</strong> for protection</li>
<li><strong>CloudWatch logging</strong> for debugging</li>
<li><strong>Metrics</strong> for monitoring</li>
</ul>
<h2 id="next-steps">Next Steps</h2>
<p>Proceed to <strong>Part 6: Amazon Cognito Configuration</strong> to secure API endpoints with authorization provided by <strong>AWS Cognito</strong></p>
<hr>
<p><strong>Ready to continue?</strong> Your API endpoints are now fully functional and ready! 🚀</p>





<footer class=" footline" >
	
</footer>

        
        </div> 
        

      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
        
        


	 
	 
		
			<a class="nav nav-prev" href="../../../5-workshop/5.2-serverless-backend/5.2.5-lambda/" title="Lambda Functions Development"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="../../../5-workshop/5.2-serverless-backend/5.2.7-cognito/" title="Amazon Cognito Configuration" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="../../../js/clipboard.min.js?1765039783"></script>
    <script src="../../../js/perfect-scrollbar.min.js?1765039783"></script>
    <script src="../../../js/perfect-scrollbar.jquery.min.js?1765039783"></script>
    <script src="../../../js/jquery.sticky.js?1765039783"></script>
    <script src="../../../js/featherlight.min.js?1765039783"></script>
    <script src="../../../js/highlight.pack.js?1765039783"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="../../../js/modernizr.custom-3.6.0.js?1765039783"></script>
    <script src="../../../js/learn.js?1765039783"></script>
    <script src="../../../js/hugo-learn.js?1765039783"></script>

    <link href="../../../mermaid/mermaid.css?1765039783" rel="stylesheet" />
    <script src="../../../mermaid/mermaid.js?1765039783"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    <script>
  (function (i, s, o, g, r, a, m) {
    i["GoogleAnalyticsObject"] = r;
    ((i[r] =
      i[r] ||
      function () {
        (i[r].q = i[r].q || []).push(arguments);
      }),
      (i[r].l = 1 * new Date()));
    ((a = s.createElement(o)), (m = s.getElementsByTagName(o)[0]));
    a.async = 1;
    a.src = g;
    m.parentNode.insertBefore(a, m);
  })(
    window,
    document,
    "script",
    "https://www.google-analytics.com/analytics.js",
    "ga",
  );

  ga("create", "UA-158079754-2", "auto");
  ga("send", "pageview");
</script>

  </body>
</html>
